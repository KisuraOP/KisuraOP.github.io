!function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? t(require("balajs"), require("xss")) : "function" == typeof define && define.amd ? define(["balajs", "xss"], t) : t(e.balajs, e.xss)
}(this, function(I, T) {
    I = I && I.hasOwnProperty("default") ? I.default : I,
    T = T && T.hasOwnProperty("default") ? T.default : T;
    var P = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
    function e(e, t) {
        return e(t = {
            exports: {}
        }, t.exports),
        t.exports
    }
    function j(e) {
        try {
            var t = z.call(e);
            return C.test(t)
        } catch (e) {
            return
        }
    }
    var L = e(function(e) {
        function u(e, t) {
            var n = (65535 & e) + (65535 & t);
            return (e >> 16) + (t >> 16) + (n >> 16) << 16 | 65535 & n
        }
        function s(e, t, n, r, i, o) {
            return u((t = u(u(t, e), u(r, o))) << i | t >>> 32 - i, n)
        }
        function d(e, t, n, r, i, o, a) {
            return s(t & n | ~t & r, e, t, i, o, a)
        }
        function f(e, t, n, r, i, o, a) {
            return s(t & r | n & ~r, e, t, i, o, a)
        }
        function h(e, t, n, r, i, o, a) {
            return s(t ^ n ^ r, e, t, i, o, a)
        }
        function g(e, t, n, r, i, o, a) {
            return s(n ^ (t | ~r), e, t, i, o, a)
        }
        function a(e, t) {
            e[t >> 5] |= 128 << t % 32,
            e[14 + (t + 64 >>> 9 << 4)] = t;
            for (var n, r, i, o, a = 1732584193, s = -271733879, l = -1732584194, c = 271733878, p = 0; p < e.length; p += 16)
                a = d(n = a, r = s, i = l, o = c, e[p], 7, -680876936),
                c = d(c, a, s, l, e[p + 1], 12, -389564586),
                l = d(l, c, a, s, e[p + 2], 17, 606105819),
                s = d(s, l, c, a, e[p + 3], 22, -1044525330),
                a = d(a, s, l, c, e[p + 4], 7, -176418897),
                c = d(c, a, s, l, e[p + 5], 12, 1200080426),
                l = d(l, c, a, s, e[p + 6], 17, -1473231341),
                s = d(s, l, c, a, e[p + 7], 22, -45705983),
                a = d(a, s, l, c, e[p + 8], 7, 1770035416),
                c = d(c, a, s, l, e[p + 9], 12, -1958414417),
                l = d(l, c, a, s, e[p + 10], 17, -42063),
                s = d(s, l, c, a, e[p + 11], 22, -1990404162),
                a = d(a, s, l, c, e[p + 12], 7, 1804603682),
                c = d(c, a, s, l, e[p + 13], 12, -40341101),
                l = d(l, c, a, s, e[p + 14], 17, -1502002290),
                a = f(a, s = d(s, l, c, a, e[p + 15], 22, 1236535329), l, c, e[p + 1], 5, -165796510),
                c = f(c, a, s, l, e[p + 6], 9, -1069501632),
                l = f(l, c, a, s, e[p + 11], 14, 643717713),
                s = f(s, l, c, a, e[p], 20, -373897302),
                a = f(a, s, l, c, e[p + 5], 5, -701558691),
                c = f(c, a, s, l, e[p + 10], 9, 38016083),
                l = f(l, c, a, s, e[p + 15], 14, -660478335),
                s = f(s, l, c, a, e[p + 4], 20, -405537848),
                a = f(a, s, l, c, e[p + 9], 5, 568446438),
                c = f(c, a, s, l, e[p + 14], 9, -1019803690),
                l = f(l, c, a, s, e[p + 3], 14, -187363961),
                s = f(s, l, c, a, e[p + 8], 20, 1163531501),
                a = f(a, s, l, c, e[p + 13], 5, -1444681467),
                c = f(c, a, s, l, e[p + 2], 9, -51403784),
                l = f(l, c, a, s, e[p + 7], 14, 1735328473),
                a = h(a, s = f(s, l, c, a, e[p + 12], 20, -1926607734), l, c, e[p + 5], 4, -378558),
                c = h(c, a, s, l, e[p + 8], 11, -2022574463),
                l = h(l, c, a, s, e[p + 11], 16, 1839030562),
                s = h(s, l, c, a, e[p + 14], 23, -35309556),
                a = h(a, s, l, c, e[p + 1], 4, -1530992060),
                c = h(c, a, s, l, e[p + 4], 11, 1272893353),
                l = h(l, c, a, s, e[p + 7], 16, -155497632),
                s = h(s, l, c, a, e[p + 10], 23, -1094730640),
                a = h(a, s, l, c, e[p + 13], 4, 681279174),
                c = h(c, a, s, l, e[p], 11, -358537222),
                l = h(l, c, a, s, e[p + 3], 16, -722521979),
                s = h(s, l, c, a, e[p + 6], 23, 76029189),
                a = h(a, s, l, c, e[p + 9], 4, -640364487),
                c = h(c, a, s, l, e[p + 12], 11, -421815835),
                l = h(l, c, a, s, e[p + 15], 16, 530742520),
                a = g(a, s = h(s, l, c, a, e[p + 2], 23, -995338651), l, c, e[p], 6, -198630844),
                c = g(c, a, s, l, e[p + 7], 10, 1126891415),
                l = g(l, c, a, s, e[p + 14], 15, -1416354905),
                s = g(s, l, c, a, e[p + 5], 21, -57434055),
                a = g(a, s, l, c, e[p + 12], 6, 1700485571),
                c = g(c, a, s, l, e[p + 3], 10, -1894986606),
                l = g(l, c, a, s, e[p + 10], 15, -1051523),
                s = g(s, l, c, a, e[p + 1], 21, -2054922799),
                a = g(a, s, l, c, e[p + 8], 6, 1873313359),
                c = g(c, a, s, l, e[p + 15], 10, -30611744),
                l = g(l, c, a, s, e[p + 6], 15, -1560198380),
                s = g(s, l, c, a, e[p + 13], 21, 1309151649),
                a = g(a, s, l, c, e[p + 4], 6, -145523070),
                c = g(c, a, s, l, e[p + 11], 10, -1120210379),
                l = g(l, c, a, s, e[p + 2], 15, 718787259),
                s = g(s, l, c, a, e[p + 9], 21, -343485551),
                a = u(a, n),
                s = u(s, r),
                l = u(l, i),
                c = u(c, o);
            return [a, s, l, c]
        }
        function l(e) {
            for (var t = "", n = 32 * e.length, r = 0; r < n; r += 8)
                t += String.fromCharCode(e[r >> 5] >>> r % 32 & 255);
            return t
        }
        function c(e) {
            var t = [];
            for (t[(e.length >> 2) - 1] = void 0,
            r = 0; r < t.length; r += 1)
                t[r] = 0;
            for (var n = 8 * e.length, r = 0; r < n; r += 8)
                t[r >> 5] |= (255 & e.charCodeAt(r / 8)) << r % 32;
            return t
        }
        function r(e) {
            for (var t, n = "", r = 0; r < e.length; r += 1)
                t = e.charCodeAt(r),
                n += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t);
            return n
        }
        function p(e) {
            return unescape(encodeURIComponent(e))
        }
        function i(e) {
            return l(a(c(e = p(e)), 8 * e.length))
        }
        function o(e, t) {
            var n, e = p(e), t = p(t), r = c(e), i = [], o = [];
            for (i[15] = o[15] = void 0,
            16 < r.length && (r = a(r, 8 * e.length)),
            n = 0; n < 16; n += 1)
                i[n] = 909522486 ^ r[n],
                o[n] = 1549556828 ^ r[n];
            return e = a(i.concat(c(t)), 512 + 8 * t.length),
            l(a(o.concat(e), 640))
        }
        function t(e, t, n) {
            return t ? n ? o(t, e) : r(o(t, e)) : n ? i(e) : r(i(e))
        }
        var n;
        n = P,
        e.exports ? e.exports = t : n.md5 = t
    })
      , N = e(function(e, t) {
        var n, r, i = e, e = t, u = "function" == typeof Map ? new Map : (n = [],
        r = [],
        {
            has: function(e) {
                return -1 < n.indexOf(e)
            },
            get: function(e) {
                return r[n.indexOf(e)]
            },
            set: function(e, t) {
                -1 === n.indexOf(e) && (n.push(e),
                r.push(t))
            },
            delete: function(e) {
                e = n.indexOf(e);
                -1 < e && (n.splice(e, 1),
                r.splice(e, 1))
            }
        }), d = function(e) {
            return new Event(e,{
                bubbles: !0
            })
        };
        try {
            new Event("test")
        } catch (i) {
            d = function(e) {
                var t = document.createEvent("Event");
                return t.initEvent(e, !0, !1),
                t
            }
        }
        function o(e) {
            e = u.get(e);
            e && e.destroy()
        }
        function a(e) {
            e = u.get(e);
            e && e.update()
        }
        t = null;
        "undefined" == typeof window || "function" != typeof window.getComputedStyle ? ((t = function(e) {
            return e
        }
        ).destroy = function(e) {
            return e
        }
        ,
        t.update = function(e) {
            return e
        }
        ) : ((t = function(e, t) {
            return e && Array.prototype.forEach.call(e.length ? e : [e], function(e) {
                function r(e) {
                    var t = o.style.width;
                    o.style.width = "0px",
                    o.style.width = t,
                    o.style.overflowY = e
                }
                function i() {
                    var e, t;
                    0 !== o.scrollHeight && (e = function(e) {
                        for (var t = []; e && e.parentNode && e.parentNode instanceof Element; )
                            e.parentNode.scrollTop && t.push({
                                node: e.parentNode,
                                scrollTop: e.parentNode.scrollTop
                            }),
                            e = e.parentNode;
                        return t
                    }(o),
                    t = document.documentElement && document.documentElement.scrollTop,
                    o.style.height = "",
                    o.style.height = o.scrollHeight + a + "px",
                    s = o.clientWidth,
                    e.forEach(function(e) {
                        e.node.scrollTop = e.scrollTop
                    }),
                    t && (document.documentElement.scrollTop = t))
                }
                function n() {
                    i();
                    var e = Math.round(parseFloat(o.style.height))
                      , t = window.getComputedStyle(o, null)
                      , n = "content-box" === t.boxSizing ? Math.round(parseFloat(t.height)) : o.offsetHeight;
                    if (n < e ? "hidden" === t.overflowY && (r("scroll"),
                    i(),
                    n = "content-box" === t.boxSizing ? Math.round(parseFloat(window.getComputedStyle(o, null).height)) : o.offsetHeight) : "hidden" !== t.overflowY && (r("hidden"),
                    i(),
                    n = "content-box" === t.boxSizing ? Math.round(parseFloat(window.getComputedStyle(o, null).height)) : o.offsetHeight),
                    l !== n) {
                        l = n;
                        e = d("autosize:resized");
                        try {
                            o.dispatchEvent(e)
                        } catch (e) {}
                    }
                }
                var o, a, s, l, c, p;
                (o = e) && o.nodeName && "TEXTAREA" === o.nodeName && !u.has(o) && (l = s = a = null,
                c = function() {
                    o.clientWidth !== s && n()
                }
                ,
                p = function(t) {
                    window.removeEventListener("resize", c, !1),
                    o.removeEventListener("input", n, !1),
                    o.removeEventListener("keyup", n, !1),
                    o.removeEventListener("autosize:destroy", p, !1),
                    o.removeEventListener("autosize:update", n, !1),
                    Object.keys(t).forEach(function(e) {
                        o.style[e] = t[e]
                    }),
                    u.delete(o)
                }
                .bind(o, {
                    height: o.style.height,
                    resize: o.style.resize,
                    overflowY: o.style.overflowY,
                    overflowX: o.style.overflowX,
                    wordWrap: o.style.wordWrap
                }),
                o.addEventListener("autosize:destroy", p, !1),
                "onpropertychange"in o && "oninput"in o && o.addEventListener("keyup", n, !1),
                window.addEventListener("resize", c, !1),
                o.addEventListener("input", n, !1),
                o.addEventListener("autosize:update", n, !1),
                o.style.overflowX = "hidden",
                o.style.wordWrap = "break-word",
                u.set(o, {
                    destroy: p,
                    update: n
                }),
                "vertical" === (e = window.getComputedStyle(o, null)).resize ? o.style.resize = "none" : "both" === e.resize && (o.style.resize = "horizontal"),
                a = "content-box" === e.boxSizing ? -(parseFloat(e.paddingTop) + parseFloat(e.paddingBottom)) : parseFloat(e.borderTopWidth) + parseFloat(e.borderBottomWidth),
                isNaN(a) && (a = 0),
                n())
            }),
            e
        }
        ).destroy = function(e) {
            return e && Array.prototype.forEach.call(e.length ? e : [e], o),
            e
        }
        ,
        t.update = function(e) {
            return e && Array.prototype.forEach.call(e.length ? e : [e], a),
            e
        }
        ),
        e.default = t,
        i.exports = e.default
    })
      , z = Function.prototype.toString
      , C = /^\s*class\b/
      , D = Object.prototype.toString
      , Q = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag
      , q = Object.prototype.toString
      , V = Object.prototype.hasOwnProperty
      , l = function(e, t, n) {
        if (!function(e) {
            if (e && ("function" == typeof e || "object" == typeof e)) {
                if ("function" != typeof e || e.prototype)
                    if (Q) {
                        var t = e;
                        try {
                            return !j(t) && (z.call(t),
                            1)
                        } catch (t) {
                            return
                        }
                        return
                    } else
                        return j(e) ? void 0 : "[object Function]" === (e = D.call(e)) || "[object GeneratorFunction]" === e;
                return 1
            }
        }(t))
            throw new TypeError("iterator must be a function");
        var r;
        3 <= arguments.length && (r = n),
        ("[object Array]" === q.call(e) ? function(e, t, n) {
            for (var r = 0, i = e.length; r < i; r++)
                V.call(e, r) && (null == n ? t(e[r], r, e) : t.call(n, e[r], r, e))
        }
        : "string" == typeof e ? function(e, t, n) {
            for (var r = 0, i = e.length; r < i; r++)
                null == n ? t(e.charAt(r), r, e) : t.call(n, e.charAt(r), r, e)
        }
        : function(e, t, n) {
            for (var r in e)
                V.call(e, r) && (null == n ? t(e[r], r, e) : t.call(n, e[r], r, e))
        }
        )(e, t, r)
    }
      , t = function() {}
      , W = t = "production" !== process.env.NODE_ENV ? function(e, t, n) {
        var r = arguments.length;
        n = new Array(2 < r ? r - 2 : 0);
        for (var i = 2; i < r; i++)
            n[i - 2] = arguments[i];
        if (void 0 === t)
            throw new Error("`warning(condition, format, ...args)` requires a warning message argument");
        e || function(e, t) {
            var n = arguments.length;
            t = new Array(1 < n ? n - 1 : 0);
            for (var r = 1; r < n; r++)
                t[r - 1] = arguments[r];
            var i = 0
              , o = "Warning: " + e.replace(/%s/g, function() {
                return t[i++]
            });
            "undefined" != typeof console && console.error(o);
            try {
                throw new Error(o)
            } catch (e) {}
        }
        .apply(null, [t].concat(n))
    }
    : t
      , H = Array.prototype.slice
      , Z = Object.prototype.toString
      , n = Function.prototype.bind || function(t) {
        var n = this;
        if ("function" != typeof n || "[object Function]" !== Z.call(n))
            throw new TypeError("Function.prototype.bind called on incompatible " + n);
        for (var r = H.call(arguments, 1), e = Math.max(0, n.length - r.length), i = [], o = 0; o < e; o++)
            i.push("$" + o);
        var a, s = Function("binder", "return function (" + i.join(",") + "){ return binder.apply(this,arguments); }")(function() {
            var e;
            return this instanceof s ? (e = n.apply(this, r.concat(H.call(arguments))),
            Object(e) === e ? e : this) : n.apply(t, r.concat(H.call(arguments)))
        });
        return n.prototype && ((a = function() {}
        ).prototype = n.prototype,
        s.prototype = new a,
        a.prototype = null),
        s
    }
      , K = n.call(Function.call, Object.prototype.hasOwnProperty)
      , t = P.Symbol
      , s = TypeError
      , c = Object.getOwnPropertyDescriptor;
    if (c)
        try {
            c({}, "")
        } catch (I) {
            c = null
        }
    function J() {
        throw new s
    }
    function r(e, t) {
        if ("string" != typeof e || 0 === e.length)
            throw new TypeError("intrinsic name must be a non-empty string");
        if (1 < arguments.length && "boolean" != typeof t)
            throw new TypeError('"allowMissing" argument must be a boolean');
        i = [],
        G(e, Y, function(e, t, n, r) {
            i[i.length] = n ? G(r, ee, "$1") : t || e
        });
        for (var i, n = i, r = function(e, t) {
            if (!(e in X))
                throw new SyntaxError("intrinsic " + e + " does not exist!");
            if (void 0 !== X[e] || t)
                return X[e];
            throw new s("intrinsic " + e + " exists, but is not available. Please file an issue!")
        }("%" + (0 < n.length ? n[0] : "") + "%", t), o = 1; o < n.length; o += 1)
            if (null != r)
                if (c && o + 1 >= n.length) {
                    var a = c(r, n[o]);
                    if (!(t || n[o]in r))
                        throw new s("base intrinsic for " + e + " exists, but the property is not available.");
                    r = a ? a.get || a.value : r[n[o]]
                } else
                    r = r[n[o]];
        return r
    }
    function i() {
        return n.apply(ne, arguments)
    }
    var o = c ? function() {
        try {
            return J
        } catch (e) {
            try {
                return c(arguments, "callee").get
            } catch (e) {
                return J
            }
        }
    }() : J
      , t = "function" == typeof t && "function" == typeof Symbol && "symbol" == typeof t("foo") && "symbol" == typeof Symbol("bar") && function() {
        if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols)
            return !1;
        if ("symbol" == typeof Symbol.iterator)
            return !0;
        var e = {}
          , t = Symbol("test")
          , n = Object(t);
        if ("string" == typeof t)
            return !1;
        if ("[object Symbol]" !== Object.prototype.toString.call(t))
            return !1;
        if ("[object Symbol]" !== Object.prototype.toString.call(n))
            return !1;
        for (t in e[t] = 42,
        e)
            return !1;
        if ("function" == typeof Object.keys && 0 !== Object.keys(e).length)
            return !1;
        if ("function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(e).length)
            return !1;
        n = Object.getOwnPropertySymbols(e);
        if (1 !== n.length || n[0] !== t)
            return !1;
        if (!Object.prototype.propertyIsEnumerable.call(e, t))
            return !1;
        if ("function" == typeof Object.getOwnPropertyDescriptor) {
            n = Object.getOwnPropertyDescriptor(e, t);
            if (42 !== n.value || !0 !== n.enumerable)
                return !1
        }
        return !0
    }()
      , a = Object.getPrototypeOf || function(e) {
        return e.__proto__
    }
      , p = "undefined" == typeof Uint8Array ? void 0 : a(Uint8Array)
      , X = {
        "%Array%": Array,
        "%ArrayBuffer%": "undefined" == typeof ArrayBuffer ? void 0 : ArrayBuffer,
        "%ArrayBufferPrototype%": "undefined" == typeof ArrayBuffer ? void 0 : ArrayBuffer.prototype,
        "%ArrayIteratorPrototype%": t ? a([][Symbol.iterator]()) : void 0,
        "%ArrayPrototype%": Array.prototype,
        "%ArrayProto_entries%": Array.prototype.entries,
        "%ArrayProto_forEach%": Array.prototype.forEach,
        "%ArrayProto_keys%": Array.prototype.keys,
        "%ArrayProto_values%": Array.prototype.values,
        "%AsyncFromSyncIteratorPrototype%": void 0,
        "%AsyncFunction%": void 0,
        "%AsyncFunctionPrototype%": void 0,
        "%AsyncGenerator%": void 0,
        "%AsyncGeneratorFunction%": void 0,
        "%AsyncGeneratorPrototype%": void 0,
        "%AsyncIteratorPrototype%": void 0,
        "%Atomics%": "undefined" == typeof Atomics ? void 0 : Atomics,
        "%Boolean%": Boolean,
        "%BooleanPrototype%": Boolean.prototype,
        "%DataView%": "undefined" == typeof DataView ? void 0 : DataView,
        "%DataViewPrototype%": "undefined" == typeof DataView ? void 0 : DataView.prototype,
        "%Date%": Date,
        "%DatePrototype%": Date.prototype,
        "%decodeURI%": decodeURI,
        "%decodeURIComponent%": decodeURIComponent,
        "%encodeURI%": encodeURI,
        "%encodeURIComponent%": encodeURIComponent,
        "%Error%": Error,
        "%ErrorPrototype%": Error.prototype,
        "%eval%": eval,
        "%EvalError%": EvalError,
        "%EvalErrorPrototype%": EvalError.prototype,
        "%Float32Array%": "undefined" == typeof Float32Array ? void 0 : Float32Array,
        "%Float32ArrayPrototype%": "undefined" == typeof Float32Array ? void 0 : Float32Array.prototype,
        "%Float64Array%": "undefined" == typeof Float64Array ? void 0 : Float64Array,
        "%Float64ArrayPrototype%": "undefined" == typeof Float64Array ? void 0 : Float64Array.prototype,
        "%Function%": Function,
        "%FunctionPrototype%": Function.prototype,
        "%Generator%": void 0,
        "%GeneratorFunction%": void 0,
        "%GeneratorPrototype%": void 0,
        "%Int8Array%": "undefined" == typeof Int8Array ? void 0 : Int8Array,
        "%Int8ArrayPrototype%": "undefined" == typeof Int8Array ? void 0 : Int8Array.prototype,
        "%Int16Array%": "undefined" == typeof Int16Array ? void 0 : Int16Array,
        "%Int16ArrayPrototype%": "undefined" == typeof Int16Array ? void 0 : Int8Array.prototype,
        "%Int32Array%": "undefined" == typeof Int32Array ? void 0 : Int32Array,
        "%Int32ArrayPrototype%": "undefined" == typeof Int32Array ? void 0 : Int32Array.prototype,
        "%isFinite%": isFinite,
        "%isNaN%": isNaN,
        "%IteratorPrototype%": t ? a(a([][Symbol.iterator]())) : void 0,
        "%JSON%": "object" == typeof JSON ? JSON : void 0,
        "%JSONParse%": "object" == typeof JSON ? JSON.parse : void 0,
        "%Map%": "undefined" == typeof Map ? void 0 : Map,
        "%MapIteratorPrototype%": "undefined" != typeof Map && t ? a((new Map)[Symbol.iterator]()) : void 0,
        "%MapPrototype%": "undefined" == typeof Map ? void 0 : Map.prototype,
        "%Math%": Math,
        "%Number%": Number,
        "%NumberPrototype%": Number.prototype,
        "%Object%": Object,
        "%ObjectPrototype%": Object.prototype,
        "%ObjProto_toString%": Object.prototype.toString,
        "%ObjProto_valueOf%": Object.prototype.valueOf,
        "%parseFloat%": parseFloat,
        "%parseInt%": parseInt,
        "%Promise%": "undefined" == typeof Promise ? void 0 : Promise,
        "%PromisePrototype%": "undefined" == typeof Promise ? void 0 : Promise.prototype,
        "%PromiseProto_then%": "undefined" == typeof Promise ? void 0 : Promise.prototype.then,
        "%Promise_all%": "undefined" == typeof Promise ? void 0 : Promise.all,
        "%Promise_reject%": "undefined" == typeof Promise ? void 0 : Promise.reject,
        "%Promise_resolve%": "undefined" == typeof Promise ? void 0 : Promise.resolve,
        "%Proxy%": "undefined" == typeof Proxy ? void 0 : Proxy,
        "%RangeError%": RangeError,
        "%RangeErrorPrototype%": RangeError.prototype,
        "%ReferenceError%": ReferenceError,
        "%ReferenceErrorPrototype%": ReferenceError.prototype,
        "%Reflect%": "undefined" == typeof Reflect ? void 0 : Reflect,
        "%RegExp%": RegExp,
        "%RegExpPrototype%": RegExp.prototype,
        "%Set%": "undefined" == typeof Set ? void 0 : Set,
        "%SetIteratorPrototype%": "undefined" != typeof Set && t ? a((new Set)[Symbol.iterator]()) : void 0,
        "%SetPrototype%": "undefined" == typeof Set ? void 0 : Set.prototype,
        "%SharedArrayBuffer%": "undefined" == typeof SharedArrayBuffer ? void 0 : SharedArrayBuffer,
        "%SharedArrayBufferPrototype%": "undefined" == typeof SharedArrayBuffer ? void 0 : SharedArrayBuffer.prototype,
        "%String%": String,
        "%StringIteratorPrototype%": t ? a(""[Symbol.iterator]()) : void 0,
        "%StringPrototype%": String.prototype,
        "%Symbol%": t ? Symbol : void 0,
        "%SymbolPrototype%": t ? Symbol.prototype : void 0,
        "%SyntaxError%": SyntaxError,
        "%SyntaxErrorPrototype%": SyntaxError.prototype,
        "%ThrowTypeError%": o,
        "%TypedArray%": p,
        "%TypedArrayPrototype%": p ? p.prototype : void 0,
        "%TypeError%": s,
        "%TypeErrorPrototype%": s.prototype,
        "%Uint8Array%": "undefined" == typeof Uint8Array ? void 0 : Uint8Array,
        "%Uint8ArrayPrototype%": "undefined" == typeof Uint8Array ? void 0 : Uint8Array.prototype,
        "%Uint8ClampedArray%": "undefined" == typeof Uint8ClampedArray ? void 0 : Uint8ClampedArray,
        "%Uint8ClampedArrayPrototype%": "undefined" == typeof Uint8ClampedArray ? void 0 : Uint8ClampedArray.prototype,
        "%Uint16Array%": "undefined" == typeof Uint16Array ? void 0 : Uint16Array,
        "%Uint16ArrayPrototype%": "undefined" == typeof Uint16Array ? void 0 : Uint16Array.prototype,
        "%Uint32Array%": "undefined" == typeof Uint32Array ? void 0 : Uint32Array,
        "%Uint32ArrayPrototype%": "undefined" == typeof Uint32Array ? void 0 : Uint32Array.prototype,
        "%URIError%": URIError,
        "%URIErrorPrototype%": URIError.prototype,
        "%WeakMap%": "undefined" == typeof WeakMap ? void 0 : WeakMap,
        "%WeakMapPrototype%": "undefined" == typeof WeakMap ? void 0 : WeakMap.prototype,
        "%WeakSet%": "undefined" == typeof WeakSet ? void 0 : WeakSet,
        "%WeakSetPrototype%": "undefined" == typeof WeakSet ? void 0 : WeakSet.prototype
    }
      , G = n.call(Function.call, String.prototype.replace)
      , Y = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g
      , ee = /\\(\\)?/g
      , a = r("%Function%")
      , te = a.apply
      , ne = a.call;
    i.apply = function() {
        return n.apply(te, arguments)
    }
    ;
    function re(e) {
        var t = de.call(e);
        return "[object Arguments]" === t || "[object Array]" !== t && null !== e && "object" == typeof e && "number" == typeof e.length && 0 <= e.length && "[object Function]" === de.call(e.callee)
    }
    function ie(e, t) {
        var n = 2 < arguments.length ? arguments[2] : {}
          , r = me(t);
        ve && (r = we.call(r, Object.getOwnPropertySymbols(t)));
        for (var i, o, a, s, l = 0; l < r.length; l += 1)
            i = e,
            o = r[l],
            a = t[r[l]],
            s = n[r[l]],
            o in i && ("function" != typeof s || "[object Function]" !== be.call(s) || !s()) || (ke ? xe(i, o, {
                configurable: !0,
                enumerable: !1,
                value: a,
                writable: !0
            }) : i[o] = a)
    }
    var d, oe, ae, se, le, f, ce, pe, ue, de = Object.prototype.toString, fe = (Object.keys || (d = Object.prototype.hasOwnProperty,
    oe = Object.prototype.toString,
    ae = re,
    t = Object.prototype.propertyIsEnumerable,
    se = !t.call({
        toString: null
    }, "toString"),
    le = t.call(function() {}, "prototype"),
    f = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
    ce = function(e) {
        var t = e.constructor;
        return t && t.prototype === e
    }
    ,
    pe = {
        $applicationCache: !0,
        $console: !0,
        $external: !0,
        $frame: !0,
        $frameElement: !0,
        $frames: !0,
        $innerHeight: !0,
        $innerWidth: !0,
        $onmozfullscreenchange: !0,
        $onmozfullscreenerror: !0,
        $outerHeight: !0,
        $outerWidth: !0,
        $pageXOffset: !0,
        $pageYOffset: !0,
        $parent: !0,
        $scrollLeft: !0,
        $scrollTop: !0,
        $scrollX: !0,
        $scrollY: !0,
        $self: !0,
        $webkitIndexedDB: !0,
        $webkitStorageInfo: !0,
        $window: !0
    },
    ue = function() {
        if ("undefined" == typeof window)
            return !1;
        for (var e in window)
            try {
                !pe["$" + e] && d.call(window, e) && null !== window[e] && window
            } catch (e) {
                return !0
            }
        return !1
    }(),
    h = function(e) {
        var t = null !== e && "object" == typeof e
          , n = "[object Function]" === oe.call(e)
          , r = ae(e)
          , i = t && "[object String]" === oe.call(e)
          , o = [];
        if (!t && !n && !r)
            throw new TypeError("Object.keys called on a non-object");
        var a = le && n;
        if (i && 0 < e.length && !d.call(e, 0))
            for (var s = 0; s < e.length; ++s)
                o.push(String(s));
        if (r && 0 < e.length)
            for (var l = 0; l < e.length; ++l)
                o.push(String(l));
        else
            for (var c in e)
                a && "prototype" === c || !d.call(e, c) || o.push(String(c));
        if (se)
            for (var p = function(e) {
                if ("undefined" == typeof window || !ue)
                    return ce(e);
                try {
                    return ce(e)
                } catch (e) {
                    return !1
                }
            }(e), u = 0; u < f.length; ++u)
                p && "constructor" === f[u] || !d.call(e, f[u]) || o.push(f[u]);
        return o
    }
    ),
    Array.prototype.slice), he = Object.keys, ge = he ? function(e) {
        return he(e)
    }
    : h, ye = Object.keys, me = (ge.shim = function() {
        return Object.keys ? function() {
            var e = Object.keys(arguments);
            return e && e.length === arguments.length
        }(1, 2) || (Object.keys = function(e) {
            return re(e) ? ye(fe.call(e)) : ye(e)
        }
        ) : Object.keys = ge,
        Object.keys || ge
    }
    ,
    ge), ve = "function" == typeof Symbol && "symbol" == typeof Symbol("foo"), be = Object.prototype.toString, we = Array.prototype.concat, xe = Object.defineProperty, ke = xe && function() {
        var e = {};
        try {
            for (var t in xe(e, "x", {
                enumerable: !1,
                value: e
            }),
            e)
                return !1;
            return e.x === e
        } catch (e) {
            return !1
        }
    }();
    ie.supportsDescriptors = !!ke;
    function Ae() {
        var e = function(e) {
            if ("symbol" == typeof e)
                throw new je("Cannot convert a Symbol value to a string");
            return Pe(e)
        }(function(e) {
            if (null == e)
                throw new _e("Cannot call method on " + e);
            return e
        }(this));
        return ze(ze(e, Ce, ""), Ie, "")
    }
    function $e() {
        return String.prototype.trim && "​" === "​".trim() ? String.prototype.trim : Ae
    }
    function Se(e) {
        W(!1, e)
    }
    function Oe(e) {
        var t = (e = e % 100) % 10;
        return 11 != e && 1 == t ? 0 : 2 <= t && t <= 4 && !(12 <= e && e <= 14) ? 1 : 2
    }
    var Ee = ie
      , _e = r("%TypeError%")
      , Pe = r("%String%")
      , je = r("%TypeError%")
      , o = i(r("String.prototype.indexOf"))
      , ze = "function" == typeof (p = r("String.prototype.replace", !1)) && o("String.prototype.replace", ".prototype.") ? i(p) : p
      , Ce = /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/
      , Ie = /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/
      , a = i($e())
      , Te = (Ee(a, {
        getPolyfill: $e,
        implementation: Ae,
        shim: function() {
            var e = $e();
            return Ee(String.prototype, {
                trim: e
            }, {
                trim: function() {
                    return String.prototype.trim !== e
                }
            }),
            e
        }
    }),
    a)
      , Re = String.prototype.replace
      , Me = String.prototype.split
      , Fe = "||||"
      , Ue = {
        pluralTypes: {
            arabic: function(e) {
                if (e < 3)
                    return e;
                e %= 100;
                return 3 <= e && e <= 10 ? 3 : 11 <= e ? 4 : 5
            },
            bosnian_serbian: Oe,
            chinese: function() {
                return 0
            },
            croatian: Oe,
            french: function(e) {
                return 1 < e ? 1 : 0
            },
            german: function(e) {
                return 1 !== e ? 1 : 0
            },
            russian: Oe,
            lithuanian: function(e) {
                return e % 10 == 1 && e % 100 != 11 ? 0 : 2 <= e % 10 && e % 10 <= 9 && (e % 100 < 11 || 19 < e % 100) ? 1 : 2
            },
            czech: function(e) {
                return 1 === e ? 0 : 2 <= e && e <= 4 ? 1 : 2
            },
            polish: function(e) {
                if (1 === e)
                    return 0;
                var t = e % 10;
                return 2 <= t && t <= 4 && (e % 100 < 10 || 20 <= e % 100) ? 1 : 2
            },
            icelandic: function(e) {
                return e % 10 != 1 || e % 100 == 11 ? 1 : 0
            },
            slovenian: function(e) {
                e %= 100;
                return 1 == e ? 0 : 2 == e ? 1 : 3 == e || 4 == e ? 2 : 3
            }
        },
        pluralTypeToLanguages: {
            arabic: ["ar"],
            bosnian_serbian: ["bs-Latn-BA", "bs-Cyrl-BA", "srl-RS", "sr-RS"],
            chinese: ["id", "id-ID", "ja", "ko", "ko-KR", "lo", "ms", "th", "th-TH", "zh"],
            croatian: ["hr", "hr-HR"],
            german: ["fa", "da", "de", "en", "es", "fi", "el", "he", "hi-IN", "hu", "hu-HU", "it", "nl", "no", "pt", "sv", "tr"],
            french: ["fr", "tl", "pt-br"],
            russian: ["ru", "ru-RU"],
            lithuanian: ["lt"],
            czech: ["cs", "cs-CZ", "sk"],
            polish: ["pl"],
            icelandic: ["is"],
            slovenian: ["sl-SL"]
        }
    };
    function Be(e) {
        return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
    }
    var Le = /%\{(.*?)\}/g;
    function Ne(e, t, n, r, i) {
        if ("string" != typeof e)
            throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");
        if (null == t)
            return e;
        var o, a, r = r || Le, i = i || Ue, s = "number" == typeof t ? {
            smart_count: t
        } : t;
        return null != s.smart_count && e && (t = Me.call(e, Fe),
        e = Te(t[o = s.smart_count,
        i.pluralTypes[n = n || "en",
        a = {},
        l(i.pluralTypeToLanguages, function(e, t) {
            l(e, function(e) {
                a[e] = t
            })
        }),
        (i = a)[n] || i[Me.call(n, /-/, 1)[0]] || i.en](o)] || t[0])),
        Re.call(e, r, function(e, t) {
            return K(s, t) && null != s[t] ? s[t] : e
        })
    }
    function u(e) {
        e = e || {};
        this.phrases = {},
        this.extend(e.phrases || {}),
        this.currentLocale = e.locale || "en",
        this.onMissingKey = "function" == typeof e.onMissingKey ? e.onMissingKey : e.allowMissing ? Ne : null,
        this.warn = e.warn || Se,
        this.tokenRegex = function(e) {
            var t = e && e.prefix || "%{"
              , e = e && e.suffix || "}";
            if (t === Fe || e === Fe)
                throw new RangeError('"' + Fe + '" token is reserved for pluralization');
            return new RegExp(Be(t) + "(.*?)" + Be(e),"g")
        }(e.interpolation),
        this.pluralRules = e.pluralRules || Ue
    }
    u.prototype.locale = function(e) {
        return e && (this.currentLocale = e),
        this.currentLocale
    }
    ,
    u.prototype.extend = function(e, n) {
        l(e, function(e, t) {
            t = n ? n + "." + t : t;
            "object" == typeof e ? this.extend(e, t) : this.phrases[t] = e
        }, this)
    }
    ,
    u.prototype.unset = function(e, n) {
        "string" == typeof e ? delete this.phrases[e] : l(e, function(e, t) {
            t = n ? n + "." + t : t;
            "object" == typeof e ? this.unset(e, t) : delete this.phrases[t]
        }, this)
    }
    ,
    u.prototype.clear = function() {
        this.phrases = {}
    }
    ,
    u.prototype.replace = function(e) {
        this.clear(),
        this.extend(e)
    }
    ,
    u.prototype.t = function(e, t) {
        var n, r, t = null == t ? {} : t;
        return "string" == typeof this.phrases[e] ? n = this.phrases[e] : "string" == typeof t._ ? n = t._ : r = this.onMissingKey ? (0,
        this.onMissingKey)(e, t, this.currentLocale, this.tokenRegex, this.pluralRules) : (this.warn('Missing translation for key: "' + e + '"'),
        e),
        r = "string" == typeof n ? Ne(n, t, this.currentLocale, this.tokenRegex, this.pluralRules) : r
    }
    ,
    u.prototype.has = function(e) {
        return K(this.phrases, e)
    }
    ,
    u.transformPhrase = function(e, t, n) {
        return Ne(e, t, n)
    }
    ;
    function De(e) {
        return (Date.now() + Math.round(1e3 * Math.random())).toString(32)
    }
    function Qe(e, t) {
        for (var n = e.toString(); n.length < t; )
            n = "0" + n;
        return n
    }
    var qe = u
      , t = {
        nick: "昵称",
        mail: "邮箱",
        link: "网址(http://)",
        nickFail: "昵称不能少于3个字符",
        mailFail: "请填写正确的邮件地址",
        sofa: "来发评论吧~",
        submit: "提交",
        reply: "回复",
        cancelReply: "取消回复",
        comments: "评论",
        cancel: "取消",
        confirm: "确认",
        continue: "继续",
        more: "加载更多...",
        preview: "预览",
        emoji: "表情",
        expand: "查看更多...",
        seconds: "秒前",
        minutes: "分钟前",
        hours: "小时前",
        days: "天前",
        now: "刚刚",
        uploading: "正在传输...",
        uploadDone: "传输完成!",
        busy: "操作频繁，请稍候再试...",
        "code-98": "Valine 初始化失败，请检查 av-min.js 版本",
        "code-99": "Valine 初始化失败，请检查init中的`el`元素.",
        "code-100": "Valine 初始化失败，请检查你的AppId和AppKey.",
        "code-140": "今日 API 调用总次数已超过开发版限制.",
        "code-401": "未经授权的操作，请检查你的AppId和AppKey.",
        "code-403": "访问被API域名白名单拒绝，请检查你的安全域名设置."
    }
      , h = {
        nick: "NickName",
        mail: "E-Mail",
        link: "Website(http://)",
        nickFail: "NickName cannot be less than 3 bytes.",
        mailFail: "Please confirm your email address.",
        sofa: "No comment yet.",
        submit: "Submit",
        reply: "Reply",
        cancelReply: "Cancel reply",
        comments: "Comments",
        cancel: "Cancel",
        confirm: "Confirm",
        continue: "Continue",
        more: "Load More...",
        preview: "Preview",
        emoji: "Emoji",
        expand: "See more....",
        seconds: "seconds ago",
        minutes: "minutes ago",
        hours: "hours ago",
        days: "days ago",
        now: "just now",
        uploading: "Uploading ...",
        uploadDone: "Upload completed!",
        busy: "Submit is busy, please wait...",
        "code-98": "Valine initialization failed, please check your version of av-min.js.",
        "code-99": "Valine initialization failed, Please check the `el` element in the init method.",
        "code-100": "Valine initialization failed, Please check your appId and appKey.",
        "code-140": "The total number of API calls today has exceeded the development version limit.",
        "code-401": "Unauthorized operation, Please check your appId and appKey.",
        "code-403": "Access denied by API domain white list, Please check your security domain."
    }
      , o = {
        nick: "ニックネーム",
        mail: "メールアドレス",
        link: "サイト(http://)",
        nickFail: "3バイト以上のニックネームをご入力ください.",
        mailFail: "メールアドレスをご確認ください.",
        sofa: "コメントしましょう~",
        submit: "提出する",
        reply: "返信する",
        cancelReply: "キャンセル",
        comments: "コメント",
        cancel: "キャンセル",
        confirm: "確認する",
        continue: "继续",
        more: "さらに読み込む...",
        preview: "プレビュー",
        emoji: "絵文字",
        expand: "もっと見る",
        seconds: "秒前",
        minutes: "分前",
        hours: "時間前",
        days: "日前",
        now: "たっだ今",
        uploading: "アップロード中...",
        uploadDone: "アップロードが完了しました!",
        busy: "20 秒間隔で提出してください    ...",
        "code-98": "ロードエラーです。av-min.js のバージョンを確認してください.",
        "code-99": "ロードエラーです。initにある`el`エレメントを確認ください.",
        "code-100": "ロードエラーです。AppIdとAppKeyを確認ください.",
        "code-140": "今日のAPIコールの総数が開発バージョンの上限を超えた.",
        "code-401": "権限が制限されています。AppIdとAppKeyを確認ください.",
        "code-403": "アクセスがAPIなどに制限されました、ドメイン名のセキュリティ設定を確認ください"
    }
      , Ve = {
        zh: t,
        "zh-cn": t,
        "zh-CN": t,
        "zh-TW": {
            nick: "暱稱",
            mail: "郵箱",
            link: "網址(http://)",
            nickFail: "昵稱不能少於3個字符",
            mailFail: "請填寫正確的郵件地址",
            sofa: "來發評論吧~",
            submit: "提交",
            reply: "回覆",
            cancelReply: "取消回覆",
            comments: "評論",
            cancel: "取消",
            confirm: "確認",
            continue: "繼續",
            more: "加載更多...",
            preview: "預覽",
            emoji: "表情",
            expand: "查看更多...",
            seconds: "秒前",
            minutes: "分鐘前",
            hours: "小時前",
            days: "天前",
            now: "剛剛",
            uploading: "正在上傳...",
            uploadDone: "上傳完成!",
            busy: "操作頻繁，請稍候再試...",
            "code-98": "Valine 初始化失敗，請檢查 av-min.js 版本",
            "code-99": "Valine 初始化失敗，請檢查init中的`el`元素.",
            "code-100": "Valine 初始化失敗，請檢查你的AppId和AppKey.",
            "code-140": "今日 API 調用總次數已超過開發版限制.",
            "code-401": "未經授權的操作，請檢查你的AppId和AppKey.",
            "code-403": "訪問被API域名白名單拒絕，請檢查你的安全域名設置."
        },
        en: h,
        "en-US": h,
        ja: o,
        "ja-JP": o
    }
      , We = {
        lang: "zh-CN",
        langMode: null,
        appId: "",
        appKey: "",
        clazzName: "Comment",
        meta: ["nick", "mail", "link"],
        path: location.pathname,
        placeholder: "Just Go Go",
        pageSize: 10,
        recordIP: !0,
        serverURLs: "",
        visitor: !1,
        mathJax: !1,
        emojiCDN: "",
        emojiMaps: void 0,
        enableQQ: !1,
        requiredFields: []
    }
      , k = ["nick", "mail", "link"]
      , R = {
        cdn: "//img.t.sinajs.cn/t4/appstyle/expression/ext/normal/",
        maps: require("./weibo.json"),
        parse: function(e) {
            return String(e).replace(new RegExp(":(" + Object.keys(R.maps).join("|") + "):","ig"), function(e, t) {
                return R.maps[t] ? R.build(t) : e
            })
        },
        build: function(e) {
            var t = /^(https?:)?\/\//i
              , n = R.maps[e]
              , n = t.test(n) ? n : R.cdn + n;
            return t.test(n) ? '<img alt="' + e + '" referrerPolicy="no-referrer" class="vemoji" src="' + n + '" />' : ""
        }
    }
      , He = function(e) {
        return e instanceof Date ? e : !isNaN(e) || /^\d+$/.test(e) ? new Date(parseInt(e)) : /GMT/.test(e || "") ? He(new Date(e).getTime()) : (e = (e || "").replace(/(^\s*)|(\s*$)/g, "").replace(/\.\d+/, "").replace(/-/, "/").replace(/-/, "/").replace(/(\d)T(\d)/, "$1 $2").replace(/Z/, " UTC").replace(/([+-]\d\d):?(\d\d)/, " $1$2"),
        new Date(e))
    }
      , Ze = Object.getOwnPropertySymbols
      , Ke = Object.prototype.hasOwnProperty
      , Je = Object.prototype.propertyIsEnumerable
      , p = function() {
        try {
            if (!Object.assign)
                return;
            var e = new String("abc");
            if (e[5] = "de",
            "5" === Object.getOwnPropertyNames(e)[0])
                return;
            for (var t = {}, n = 0; n < 10; n++)
                t["_" + String.fromCharCode(n)] = n;
            if ("0123456789" !== Object.getOwnPropertyNames(t).map(function(e) {
                return t[e]
            }).join(""))
                return;
            var r = {};
            return "abcdefghijklmnopqrst".split("").forEach(function(e) {
                r[e] = e
            }),
            "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("")
        } catch (e) {
            return
        }
    }() ? Object.assign : function(e, t) {
        for (var n, r = function(e) {
            if (null == e)
                throw new TypeError("Object.assign cannot be called with null or undefined");
            return Object(e)
        }(e), i = 1; i < arguments.length; i++) {
            for (var o in n = Object(arguments[i]))
                Ke.call(n, o) && (r[o] = n[o]);
            if (Ze)
                for (var a = Ze(n), s = 0; s < a.length; s++)
                    Je.call(n, a[s]) && (r[a[s]] = n[a[s]])
        }
        return r
    }
    ;
    function Xe(e) {
        return /^\{[\s\S]*\}$/.test(JSON.stringify(e))
    }
    function Ge(e) {
        return "[object Function]" === {}.toString.call(e)
    }
    function Ye(t) {
        if ("string" == typeof t)
            try {
                return JSON.parse(t)
            } catch (e) {
                return t
            }
    }
    function g() {
        if (!(this instanceof g))
            return new g
    }
    var et, y = function(e) {
        var t, n = "_Is_Incognit";
        try {
            e.setItem(n, "yes")
        } catch (n) {
            -1 < ["QuotaExceededError", "NS_ERROR_DOM_QUOTA_REACHED"].indexOf(n.name) && (t = function() {}
            ,
            e.__proto__ = {
                setItem: t,
                getItem: t,
                removeItem: t,
                clear: t
            })
        } finally {
            "yes" === e.getItem(n) && e.removeItem(n)
        }
        return e
    }(y = window.localStorage), m = null;
    function v(e, t) {
        var n = arguments
          , r = null;
        if (m = m || g(),
        0 === n.length)
            return m.get();
        if (1 === n.length) {
            if ("string" == typeof e)
                return m.get(e);
            if (Xe(e))
                return m.set(e)
        }
        if (2 === n.length && "string" == typeof e) {
            if (!t)
                return m.remove(e);
            if (t && "string" == typeof t)
                return m.set(e, t);
            t && Ge(t) && (r = null,
            r = t(e, m.get(e)),
            v.set(e, r))
        }
        if (2 === n.length && "[object Array]" === {}.toString.call(e) && Ge(t))
            for (var i = 0, o = e.length; i < o; i++)
                r = t(e[i], m.get(e[i])),
                v.set(e[i], r);
        return v
    }
    for (et in g.prototype = {
        set: function(e, t) {
            if (e && !Xe(e))
                y.setItem(e, void 0 === t || "function" == typeof t ? t + "" : JSON.stringify(t));
            else if (Xe(e))
                for (var n in e)
                    this.set(n, e[n]);
            return this
        },
        get: function(e) {
            var n;
            if (!e)
                return n = {},
                this.each(function(e, t) {
                    return n[e] = t
                }),
                n;
            if ("?" === e.charAt(0))
                return this.has(e.substr(1));
            var t = arguments;
            if (1 < t.length) {
                for (var r = {}, i = 0, o = t.length; i < o; i++) {
                    var a = Ye(y.getItem(t[i]));
                    a && (r[t[i]] = a)
                }
                return r
            }
            return Ye(y.getItem(e))
        },
        clear: function() {
            return y.clear(),
            this
        },
        remove: function(e) {
            var t = this.get(e);
            return y.removeItem(e),
            t
        },
        has: function(e) {
            return {}.hasOwnProperty.call(this.get(), e)
        },
        keys: function() {
            var t = [];
            return this.each(function(e) {
                t.push(e)
            }),
            t
        },
        each: function(e) {
            for (var t = 0, n = y.length; t < n; t++) {
                var r = y.key(t);
                e(r, this.get(r))
            }
            return this
        },
        search: function(e) {
            for (var t = this.keys(), n = {}, r = 0, i = t.length; r < i; r++)
                -1 < t[r].indexOf(e) && (n[t[r]] = this.get(t[r]));
            return n
        }
    })
        v[et] = g.prototype[et];
    var tt, nt = document, a = navigator, rt = /[&<>"'`\\]/g, it = RegExp(rt.source), ot = /&(?:amp|lt|gt|quot|#39|#x60|#x5c);/g, at = RegExp(ot.source), st = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;",
        "`": "&#x60;",
        "\\": "&#x5c;"
    }, lt = {};
    for (tt in st)
        lt[st[tt]] = tt;
    function M(e, t) {
        var n, r;
        e.$el && e.$loading.hide().$nodata.hide(),
        "[object Error]" === {}.toString.call(t) ? (n = t.code || t.message || t.error || "",
        isNaN(n) ? e.$el && e.$nodata.show('<div class="code-wrapper"><pre style="text-align:left;"> ' + JSON.stringify(t) + "</pre></div>") : (r = ((r = e.i18n.t("code-" + n)) == "code-" + n ? void 0 : r) || t.message || t.error || "",
        101 == n || -1 == n ? e.$nodata.show() : e.$el && e.$nodata.show('<div class="code-wrapper"><pre style="text-align:left;">Code ' + n + ": " + r + "</pre></div>"))) : e.$el && e.$nodata.show('<div class="code-wrapper"><pre style="text-align:left;">' + JSON.stringify(t) + "</pre></div>")
    }
    var ct = null
      , pt = (Array.prototype.forEach || (Array.prototype.forEach = function(e, t) {
        var n, r;
        if (null == this)
            throw new TypeError(" this is null or not defined");
        var i = Object(this)
          , o = i.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError(e + " is not a function");
        for (1 < arguments.length && (n = t),
        r = 0; r < o; )
            r in i && e.call(n, i[r], r, i),
            r++
    }
    ),
    window.NodeList && !NodeList.prototype.forEach && (NodeList.prototype.forEach = Array.prototype.forEach),
    String.prototype.trim || (String.prototype.trim = function() {
        return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
    }
    ),
    p(I.fn, {
        prepend: function(t) {
            return t instanceof HTMLElement || (t = t[0]),
            this.forEach(function(e) {
                e.insertAdjacentElement("afterBegin", t)
            }),
            this
        },
        append: function(t) {
            return t instanceof HTMLElement || (t = t[0]),
            this.forEach(function(e) {
                e.insertAdjacentElement("beforeEnd", t)
            }),
            this
        },
        remove: function() {
            return this.forEach(function(e) {
                try {
                    e.parentNode.removeChild(e)
                } catch (e) {}
            }),
            this
        },
        find: function(e) {
            return I(e, this)
        },
        show: function() {
            return this.forEach(function(e) {
                e.style.display = "block"
            }),
            this
        },
        hide: function() {
            return this.forEach(function(e) {
                e.style.display = "none"
            }),
            this
        },
        on: function(e, n, r) {
            return I.fn.off(e, n, r),
            this.forEach(function(t) {
                e.split(" ").forEach(function(e) {
                    t.addEventListener ? t.addEventListener(e, n, r || !1) : t.attachEvent ? t.attachEvent("on" + e, n) : t["on" + e] = n
                })
            }),
            this
        },
        off: function(e, n, r) {
            return this.forEach(function(t) {
                e.split(" ").forEach(function(e) {
                    t.removeEventListener ? t.removeEventListener(e, n, r || !1) : t.detachEvent ? t.detachEvent("on" + e, n) : t["on" + e] = null
                })
            }),
            this
        },
        html: function(t) {
            return void 0 !== t ? (this.forEach(function(e) {
                e.innerHTML = t
            }),
            this) : this[0].innerHTML
        },
        text: function(t) {
            return void 0 !== t ? (this.forEach(function(e) {
                e.innerText = t
            }),
            this) : this[0].innerText
        },
        empty: function(e) {
            return e = e || 0,
            this.forEach(function(t) {
                setTimeout(function(e) {
                    t.innerText = ""
                }, e)
            }),
            this
        },
        val: function(t) {
            return void 0 !== t ? (this.forEach(function(e) {
                e.value = t
            }),
            this) : this[0].value || ""
        },
        attr: function() {
            var n, e, t = arguments;
            return "object" == typeof arguments[0] ? (n = arguments[0],
            e = this,
            Object.keys(n).forEach(function(t) {
                e.forEach(function(e) {
                    e.setAttribute(t, n[t])
                })
            }),
            this) : "string" == typeof arguments[0] && arguments.length < 2 ? this[0].getAttribute(arguments[0]) || "" : (this.forEach(function(e) {
                e.setAttribute(t[0], t[1])
            }),
            this)
        },
        removeAttr: function(i) {
            return this.forEach(function(e) {
                var t, n = 0, r = i && i.match(/[^\x20\t\r\n\f\*\/\\]+/g);
                if (r && 1 === e.nodeType)
                    for (; t = r[n++]; )
                        e.removeAttribute(t)
            }),
            this
        },
        hasClass: function(e) {
            return !!this[0] && new RegExp("(\\s|^)" + e + "(\\s|$)").test(this[0].getAttribute("class"))
        },
        addClass: function(n) {
            return this.forEach(function(e) {
                var e = I(e)
                  , t = e.attr("class");
                e.hasClass(n) || e.attr("class", t += " " + n)
            }),
            this
        },
        removeClass: function(r) {
            return this.forEach(function(e) {
                var t, e = I(e), n = e.attr("class");
                e.hasClass(r) && (t = new RegExp("(\\s|^)" + r + "(\\s|$)"),
                e.attr("class", n.replace(t, "")))
            }),
            this
        }
    }),
    p(I, {
        extend: p,
        noop: function() {},
        navi: a,
        ua: a.userAgent,
        lang: a.language || a.languages[0],
        detect: function(t) {
            var e, n = {}, r = {
                Trident: -1 < (t = t || navigator.userAgent).indexOf("Trident") || -1 < t.indexOf("NET CLR"),
                Presto: -1 < t.indexOf("Presto"),
                WebKit: -1 < t.indexOf("AppleWebKit"),
                Gecko: -1 < t.indexOf("Gecko/"),
                Safari: -1 < t.indexOf("Safari"),
                Edge: -1 < t.indexOf("Edge") || -1 < t.indexOf("Edg"),
                Chrome: -1 < t.indexOf("Chrome") || -1 < t.indexOf("CriOS"),
                IE: -1 < t.indexOf("MSIE") || -1 < t.indexOf("Trident"),
                Firefox: -1 < t.indexOf("Firefox") || -1 < t.indexOf("FxiOS"),
                "Firefox Focus": -1 < t.indexOf("Focus"),
                Chromium: -1 < t.indexOf("Chromium"),
                Opera: -1 < t.indexOf("Opera") || -1 < t.indexOf("OPR"),
                Vivaldi: -1 < t.indexOf("Vivaldi"),
                Yandex: -1 < t.indexOf("YaBrowser"),
                Kindle: -1 < t.indexOf("Kindle") || -1 < t.indexOf("Silk/"),
                360: -1 < t.indexOf("360EE") || -1 < t.indexOf("360SE"),
                UC: -1 < t.indexOf("UC") || -1 < t.indexOf(" UBrowser"),
                QQBrowser: -1 < t.indexOf("QQBrowser"),
                QQ: -1 < t.indexOf("QQ/"),
                Baidu: -1 < t.indexOf("Baidu") || -1 < t.indexOf("BIDUBrowser"),
                Maxthon: -1 < t.indexOf("Maxthon"),
                Sogou: -1 < t.indexOf("MetaSr") || -1 < t.indexOf("Sogou"),
                LBBROWSER: -1 < t.indexOf("LBBROWSER"),
                "2345Explorer": -1 < t.indexOf("2345Explorer"),
                TheWorld: -1 < t.indexOf("TheWorld"),
                XiaoMi: -1 < t.indexOf("MiuiBrowser"),
                Quark: -1 < t.indexOf("Quark"),
                Qiyu: -1 < t.indexOf("Qiyu"),
                Wechat: -1 < t.indexOf("MicroMessenger"),
                Taobao: -1 < t.indexOf("AliApp(TB"),
                Alipay: -1 < t.indexOf("AliApp(AP"),
                Weibo: -1 < t.indexOf("Weibo"),
                Douban: -1 < t.indexOf("com.douban.frodo"),
                Suning: -1 < t.indexOf("SNEBUY-APP"),
                iQiYi: -1 < t.indexOf("IqiyiApp"),
                Windows: -1 < t.indexOf("Windows"),
                Linux: -1 < t.indexOf("Linux") || -1 < t.indexOf("X11"),
                macOS: -1 < t.indexOf("Macintosh"),
                Android: -1 < t.indexOf("Android") || -1 < t.indexOf("Adr"),
                Ubuntu: -1 < t.indexOf("Ubuntu"),
                FreeBSD: -1 < t.indexOf("FreeBSD"),
                Debian: -1 < t.indexOf("Debian"),
                "Windows Phone": -1 < t.indexOf("IEMobile") || -1 < t.indexOf("Windows Phone"),
                BlackBerry: -1 < t.indexOf("BlackBerry") || -1 < t.indexOf("RIM") || -1 < t.indexOf("BB10"),
                MeeGo: -1 < t.indexOf("MeeGo"),
                Symbian: -1 < t.indexOf("Symbian"),
                iOS: -1 < t.indexOf("like Mac OS X"),
                "Chrome OS": -1 < t.indexOf("CrOS"),
                WebOS: -1 < t.indexOf("hpwOS"),
                Mobile: -1 < t.indexOf("Mobi") || -1 < t.indexOf("iPh") || -1 < t.indexOf("480"),
                Tablet: -1 < t.indexOf("Tablet") || -1 < t.indexOf("Pad") || -1 < t.indexOf("Nexus 7")
            }, i = (r.Mobile && (r.Mobile = !(-1 < t.indexOf("iPad"))),
            {
                browser: ["Safari", "Chrome", "Edge", "IE", "Firefox", "Firefox Focus", "Chromium", "Opera", "Vivaldi", "Yandex", "Kindle", "360", "UC", "QQBrowser", "QQ", "Baidu", "Maxthon", "Sogou", "LBBROWSER", "2345Explorer", "TheWorld", "XiaoMi", "Quark", "Qiyu", "Wechat", "Taobao", "Alipay", "Weibo", "Douban", "Suning", "iQiYi"],
                os: ["Windows", "Linux", "Mac OS", "macOS", "Android", "Ubuntu", "FreeBSD", "Debian", "iOS", "Windows Phone", "BlackBerry", "MeeGo", "Symbian", "Chrome OS", "WebOS"]
            });
            for (e in i)
                if (i.hasOwnProperty(e))
                    for (var o = 0, a = i[e].length; o < a; o++) {
                        var s = i[e][o];
                        r[s] && (n[e] = s)
                    }
            var l = {
                Windows: function() {
                    var e = t.replace(/^.*Windows NT ([\d.]+).*$/, "$1");
                    return {
                        6.4: "10",
                        6.3: "8.1",
                        6.2: "8",
                        6.1: "7",
                        "6.0": "Vista",
                        5.2: "XP",
                        5.1: "XP",
                        "5.0": "2000"
                    }[e] || e
                },
                Android: t.replace(/^.*Android ([\d.]+);.*$/, "$1"),
                iOS: t.replace(/^.*OS ([\d_]+) like.*$/, "$1").replace(/_/g, "."),
                Debian: t.replace(/^.*Debian\/([\d.]+).*$/, "$1"),
                "Windows Phone": t.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/, "$2"),
                macOS: t.replace(/^.*Mac OS X ([\d_]+).*$/, "$1").replace(/_/g, "."),
                WebOS: t.replace(/^.*hpwOS\/([\d.]+);.*$/, "$1"),
                BlackBerry: t.replace(/^.*BB([\d.]+);*$/, "$1")
            }
              , l = (n.osVersion = "",
            l[n.os])
              , l = (l && (n.osVersion = "function" == typeof l ? l() : l == t ? "" : l),
            {
                Safari: t.replace(/^.*Version\/([\d.]+).*$/, "$1"),
                Chrome: t.replace(/^.*Chrome\/([\d.]+).*$/, "$1").replace(/^.*CriOS\/([\d.]+).*$/, "$1"),
                IE: t.replace(/^.*MSIE ([\d.]+).*$/, "$1").replace(/^.*rv:([\d.]+).*$/, "$1"),
                Edge: t.replace(/^.*Edge?\/([\d.]+).*$/, "$1"),
                Firefox: t.replace(/^.*Firefox\/([\d.]+).*$/, "$1").replace(/^.*FxiOS\/([\d.]+).*$/, "$1"),
                "Firefox Focus": t.replace(/^.*Focus\/([\d.]+).*$/, "$1"),
                Chromium: t.replace(/^.*Chromium\/([\d.]+).*$/, "$1"),
                Opera: t.replace(/^.*Opera\/([\d.]+).*$/, "$1").replace(/^.*OPR\/([\d.]+).*$/, "$1"),
                Vivaldi: t.replace(/^.*Vivaldi\/([\d.]+).*$/, "$1"),
                Yandex: t.replace(/^.*YaBrowser\/([\d.]+).*$/, "$1"),
                Kindle: t.replace(/^.*Version\/([\d.]+).*$/, "$1"),
                Maxthon: t.replace(/^.*Maxthon\/([\d.]+).*$/, "$1"),
                QQBrowser: t.replace(/^.*QQBrowser\/([\d.]+).*$/, "$1"),
                QQ: t.replace(/^.*QQ\/([\d.]+).*$/, "$1"),
                Baidu: t.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/, "$1"),
                UC: t.replace(/^.*UC?Browser\/([\d.]+).*$/, "$1"),
                Sogou: t.replace(/^.*SE ([\d.X]+).*$/, "$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/, "$1"),
                "2345Explorer": t.replace(/^.*2345Explorer\/([\d.]+).*$/, "$1"),
                TheWorld: t.replace(/^.*TheWorld ([\d.]+).*$/, "$1"),
                XiaoMi: t.replace(/^.*MiuiBrowser\/([\d.]+).*$/, "$1"),
                Quark: t.replace(/^.*Quark\/([\d.]+).*$/, "$1"),
                Qiyu: t.replace(/^.*Qiyu\/([\d.]+).*$/, "$1"),
                Wechat: t.replace(/^.*MicroMessenger\/([\d.]+).*$/, "$1"),
                Taobao: t.replace(/^.*AliApp\(TB\/([\d.]+).*$/, "$1"),
                Alipay: t.replace(/^.*AliApp\(AP\/([\d.]+).*$/, "$1"),
                Weibo: t.replace(/^.*weibo__([\d.]+).*$/, "$1"),
                Douban: t.replace(/^.*com.douban.frodo\/([\d.]+).*$/, "$1"),
                Suning: t.replace(/^.*SNEBUY-APP([\d.]+).*$/, "$1"),
                iQiYi: t.replace(/^.*IqiyiVersion\/([\d.]+).*$/, "$1")
            })
              , l = (n.version = "",
            l[n.browser]);
            return l && (n.version = "function" == typeof l ? l() : l == t ? "" : l),
            null == n.browser && (n.browser = "Unknow App"),
            n
        },
        store: v,
        escape: function(e) {
            return e && it.test(e) ? e.replace(rt, function(e) {
                return st[e]
            }) : e
        },
        unescape: function(e) {
            return e && at.test(e) ? e.replace(ot, function(e) {
                return lt[e]
            }) : e
        },
        dynamicLoadSource: function(e, t) {
            var n;
            I('script[src="' + e + '"]').length ? t && t() : ((n = nt.createElement("script")).onload = n.onreadystatechange = function() {
                this.onload = this.onreadystatechange = null,
                t && t(),
                I(n).remove()
            }
            ,
            n.async = !0,
            n.setAttribute("referrerPolicy", "no-referrer"),
            I("head")[0].appendChild(n),
            n.src = e)
        },
        sdkLoader: function(e, t, n) {
            t in window && window[t] ? (ct && clearTimeout(ct),
            n && n()) : I.dynamicLoadSource(e, function() {
                ct = setTimeout(I.sdkLoader(e, t, n), 100)
            })
        },
        deleteInWin: function(t, e) {
            function n(e) {
                if (t in window)
                    try {
                        delete window[t]
                    } catch (e) {
                        window[t] = null
                    }
            }
            0 === e ? n() : setTimeout(n, e || 500)
        },
        ajax: function(n) {
            (n = n || {}).type = (n.type || "GET").toUpperCase(),
            n.dataType = n.dataType || "json",
            n.async = n.async || !0,
            n.timeout = n.timeout || 8e3;
            var e = "[object FormData]" == {}.toString.call(n.data) ? n.data : function(e) {
                var t, n = [];
                for (t in e)
                    n.push(encodeURIComponent(t) + "=" + encodeURIComponent(e[t]));
                return n.push("t=" + Date.now()),
                n.join("&")
            }(n.data)
              , r = null
              , i = "XMLHttpRequest"in window ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP");
            if (i.onreadystatechange = function(e) {
                var t;
                4 == i.readyState && (clearTimeout(r),
                200 <= (t = i.status) && t < 300 ? n.success && n.success(JSON.parse(i.responseText)) : n.fail && n.fail(t))
            }
            ,
            "GET" == n.type)
                i.open("GET", n.url + "?" + e, n.async),
                i.send(null);
            else if ("POST" == n.type)
                if (i.open("POST", n.url, n.async),
                "[object Object]" == {}.toString.call(n.header)) {
                    for (var t in n.header)
                        n.header.hasOwnProperty(t) && i.setRequestHeader(t, n.header[t]);
                    i.send(JSON.stringify(n.data))
                } else
                    i.send(e);
            r = setTimeout(function(e) {
                clearTimeout(r),
                i.abort()
            }, n.timeout)
        }
    }),
    !1)
      , t = e(function(t) {
        t.exports = {
            defaults: {
                baseUrl: null,
                breaks: !1,
                gfm: !0,
                headerIds: !0,
                headerPrefix: "",
                highlight: null,
                langPrefix: "language-",
                mangle: !0,
                pedantic: !1,
                renderer: null,
                sanitize: !1,
                sanitizer: null,
                silent: !1,
                smartLists: !1,
                smartypants: !1,
                tokenizer: null,
                xhtml: !1
            },
            getDefaults: function() {
                return {
                    baseUrl: null,
                    breaks: !1,
                    gfm: !0,
                    headerIds: !0,
                    headerPrefix: "",
                    highlight: null,
                    langPrefix: "language-",
                    mangle: !0,
                    pedantic: !1,
                    renderer: null,
                    sanitize: !1,
                    sanitizer: null,
                    silent: !1,
                    smartLists: !1,
                    smartypants: !1,
                    tokenizer: null,
                    xhtml: !1
                }
            },
            changeDefaults: function(e) {
                t.exports.defaults = e
            }
        }
    });
    const ut = /[&<>"']/
      , dt = /[&<>"']/g
      , ft = /[<>"']|&(?!#?\w+;)/
      , ht = /[<>"']|&(?!#?\w+;)/g
      , gt = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
    }
      , yt = e=>gt[e]
      , mt = /&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;
    function vt(e) {
        return e.replace(mt, (e,t)=>"colon" === (t = t.toLowerCase()) ? ":" : "#" === t.charAt(0) ? "x" === t.charAt(1) ? String.fromCharCode(parseInt(t.substring(2), 16)) : String.fromCharCode(+t.substring(1)) : "")
    }
    const bt = /(^|[^\[])\^/g
      , wt = /[^\w:]/g
      , xt = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i
      , kt = {}
      , At = /^[^:]+:\/*[^/]*$/
      , $t = /^([^:]+:)[\s\S]*$/
      , St = /^([^:]+:\/*[^/]*)[\s\S]*$/;
    function Ot(e, t) {
        kt[" " + e] || (kt[" " + e] = At.test(e) ? e + "/" : Et(e, "/", !0));
        var n = -1 === (e = kt[" " + e]).indexOf(":");
        return "//" === t.substring(0, 2) ? n ? t : e.replace($t, "$1") + t : "/" === t.charAt(0) ? n ? t : e.replace(St, "$1") + t : e + t
    }
    function Et(e, t, n) {
        var r = e.length;
        if (0 === r)
            return "";
        let i = 0;
        for (; i < r; ) {
            var o = e.charAt(r - i - 1);
            if (o !== t || n) {
                if (o === t || !n)
                    break;
                i++
            } else
                i++
        }
        return e.substr(0, r - i)
    }
    h = {
        escape: function(e, t) {
            if (t) {
                if (ut.test(e))
                    return e.replace(dt, yt)
            } else if (ft.test(e))
                return e.replace(ht, yt);
            return e
        },
        unescape: vt,
        edit: function(n, e) {
            n = n.source || n,
            e = e || "";
            const r = {
                replace: (e,t)=>(t = (t = t.source || t).replace(bt, "$1"),
                n = n.replace(e, t),
                r),
                getRegex: ()=>new RegExp(n,e)
            };
            return r
        },
        cleanUrl: function(t, e, n) {
            if (t) {
                let e;
                try {
                    e = decodeURIComponent(vt(n)).replace(wt, "").toLowerCase()
                } catch (t) {
                    return null
                }
                if (0 === e.indexOf("javascript:") || 0 === e.indexOf("vbscript:") || 0 === e.indexOf("data:"))
                    return null
            }
            e && !xt.test(n) && (n = Ot(e, n));
            try {
                n = encodeURI(n).replace(/%25/g, "%")
            } catch (t) {
                return null
            }
            return n
        },
        resolveUrl: Ot,
        noopTest: {
            exec: function() {}
        },
        merge: function(e) {
            let t, n, r = 1;
            for (; r < arguments.length; r++)
                for (n in t = arguments[r])
                    Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
            return e
        },
        splitCells: function(e, t) {
            const n = e.replace(/\|/g, (e,t,n)=>{
                let r = !1
                  , i = t;
                for (; 0 <= --i && "\\" === n[i]; )
                    r = !r;
                return r ? "|" : " |"
            }
            ).split(/ \|/);
            let r = 0;
            if (n.length > t)
                n.splice(t);
            else
                for (; n.length < t; )
                    n.push("");
            for (; r < n.length; r++)
                n[r] = n[r].trim().replace(/\\\|/g, "|");
            return n
        },
        rtrim: Et,
        findClosingBracket: function(e, t) {
            if (-1 === e.indexOf(t[1]))
                return -1;
            var n = e.length;
            let r = 0
              , i = 0;
            for (; i < n; i++)
                if ("\\" === e[i])
                    i++;
                else if (e[i] === t[0])
                    r++;
                else if (e[i] === t[1] && --r < 0)
                    return i;
            return -1
        },
        checkSanitizeDeprecation: function(e) {
            e && e.sanitize && !e.silent && console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")
        }
    };
    const _t = t["defaults"]
      , {rtrim: Pt, splitCells: jt, escape: b, findClosingBracket: zt} = h;
    function Ct(e, t, n) {
        var r = t.href
          , t = t.title ? b(t.title) : null;
        return "!" !== e[0].charAt(0) ? {
            type: "link",
            raw: n,
            href: r,
            title: t,
            text: e[1]
        } : {
            type: "image",
            raw: n,
            text: b(e[1]),
            href: r,
            title: t
        }
    }
    var It = class {
        constructor(e) {
            this.options = e || _t
        }
        space(e) {
            e = this.rules.block.newline.exec(e);
            if (e)
                return 1 < e[0].length ? {
                    type: "space",
                    raw: e[0]
                } : {
                    raw: "\n"
                }
        }
        code(e, t) {
            const n = this.rules.block.code.exec(e);
            if (n) {
                const e = t[t.length - 1];
                if (e && "paragraph" === e.type)
                    return t.pop(),
                    e.text += "\n" + n[0].trimRight(),
                    e.raw += "\n" + n[0],
                    e;
                {
                    const e = n[0].replace(/^ {4}/gm, "");
                    return {
                        type: "code",
                        raw: n[0],
                        codeBlockStyle: "indented",
                        text: this.options.pedantic ? e : Pt(e, "\n")
                    }
                }
            }
        }
        fences(e) {
            const t = this.rules.block.fences.exec(e);
            if (t)
                return {
                    type: "code",
                    raw: t[0],
                    lang: t[2] && t[2].trim(),
                    text: t[3] || ""
                }
        }
        heading(e) {
            e = this.rules.block.heading.exec(e);
            if (e)
                return {
                    type: "heading",
                    raw: e[0],
                    depth: e[1].length,
                    text: e[2]
                }
        }
        nptable(n) {
            const e = this.rules.block.nptable.exec(n);
            if (e) {
                const n = {
                    type: "table",
                    header: jt(e[1].replace(/^ *| *\| *$/g, "")),
                    align: e[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
                    cells: e[3] ? e[3].replace(/\n$/, "").split("\n") : [],
                    raw: e[0]
                };
                if (n.header.length === n.align.length) {
                    let e, t = n.align.length;
                    for (e = 0; e < t; e++)
                        n.align[e] = /^ *-+: *$/.test(n.align[e]) ? "right" : /^ *:-+: *$/.test(n.align[e]) ? "center" : /^ *:-+ *$/.test(n.align[e]) ? "left" : null;
                    for (t = n.cells.length,
                    e = 0; e < t; e++)
                        n.cells[e] = jt(n.cells[e], n.header.length);
                    return n
                }
            }
        }
        hr(e) {
            e = this.rules.block.hr.exec(e);
            if (e)
                return {
                    type: "hr",
                    raw: e[0]
                }
        }
        blockquote(e) {
            const t = this.rules.block.blockquote.exec(e);
            if (t) {
                const e = t[0].replace(/^ *> ?/gm, "");
                return {
                    type: "blockquote",
                    raw: t[0],
                    text: e
                }
            }
        }
        list(e) {
            const c = this.rules.block.list.exec(e);
            if (c) {
                var p = c[0];
                const d = c[2]
                  , f = 1 < d.length
                  , h = {
                    type: "list",
                    raw: p,
                    ordered: f,
                    start: f ? +d : "",
                    loose: !1,
                    items: []
                }
                  , g = c[0].match(this.rules.block.item);
                let t, n, r, i, o, a, s, l = !1;
                var u = g.length;
                for (let e = 0; e < u; e++)
                    p = t = g[e],
                    n = t.length,
                    ~(t = t.replace(/^ *([*+-]|\d+\.) */, "")).indexOf("\n ") && (n -= t.length,
                    t = t.replace(this.options.pedantic ? /^ {1,4}/gm : new RegExp("^ {1," + n + "}","gm"), "")),
                    e !== u - 1 && (r = this.rules.block.bullet.exec(g[e + 1])[0],
                    (1 < d.length ? 1 === r.length : 1 < r.length || this.options.smartLists && r !== d) && (i = g.slice(e + 1).join("\n"),
                    h.raw = h.raw.substring(0, h.raw.length - i.length),
                    e = u - 1)),
                    o = l || /\n\n(?!\s*$)/.test(t),
                    e !== u - 1 && (l = "\n" === t.charAt(t.length - 1),
                    o = o || l),
                    o && (h.loose = !0),
                    a = /^\[[ xX]\] /.test(t),
                    s = void 0,
                    a && (s = " " !== t[1],
                    t = t.replace(/^\[[ xX]\] +/, "")),
                    h.items.push({
                        raw: p,
                        task: a,
                        checked: s,
                        loose: o,
                        text: t
                    });
                return h
            }
        }
        html(e) {
            e = this.rules.block.html.exec(e);
            if (e)
                return {
                    type: this.options.sanitize ? "paragraph" : "html",
                    raw: e[0],
                    pre: !this.options.sanitizer && ("pre" === e[1] || "script" === e[1] || "style" === e[1]),
                    text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(e[0]) : b(e[0]) : e[0]
                }
        }
        def(e) {
            const t = this.rules.block.def.exec(e);
            if (t)
                return t[3] && (t[3] = t[3].substring(1, t[3].length - 1)),
                {
                    tag: t[1].toLowerCase().replace(/\s+/g, " "),
                    raw: t[0],
                    href: t[2],
                    title: t[3]
                }
        }
        table(n) {
            const r = this.rules.block.table.exec(n);
            if (r) {
                const n = {
                    type: "table",
                    header: jt(r[1].replace(/^ *| *\| *$/g, "")),
                    align: r[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
                    cells: r[3] ? r[3].replace(/\n$/, "").split("\n") : []
                };
                if (n.header.length === n.align.length) {
                    n.raw = r[0];
                    let e, t = n.align.length;
                    for (e = 0; e < t; e++)
                        n.align[e] = /^ *-+: *$/.test(n.align[e]) ? "right" : /^ *:-+: *$/.test(n.align[e]) ? "center" : /^ *:-+ *$/.test(n.align[e]) ? "left" : null;
                    for (t = n.cells.length,
                    e = 0; e < t; e++)
                        n.cells[e] = jt(n.cells[e].replace(/^ *\| *| *\| *$/g, ""), n.header.length);
                    return n
                }
            }
        }
        lheading(e) {
            const t = this.rules.block.lheading.exec(e);
            if (t)
                return {
                    type: "heading",
                    raw: t[0],
                    depth: "=" === t[2].charAt(0) ? 1 : 2,
                    text: t[1]
                }
        }
        paragraph(e) {
            const t = this.rules.block.paragraph.exec(e);
            if (t)
                return {
                    type: "paragraph",
                    raw: t[0],
                    text: "\n" === t[1].charAt(t[1].length - 1) ? t[1].slice(0, -1) : t[1]
                }
        }
        text(e) {
            e = this.rules.block.text.exec(e);
            if (e)
                return {
                    type: "text",
                    raw: e[0],
                    text: e[0]
                }
        }
        escape(e) {
            e = this.rules.inline.escape.exec(e);
            if (e)
                return {
                    type: "escape",
                    raw: e[0],
                    text: b(e[1])
                }
        }
        tag(e, t, n) {
            e = this.rules.inline.tag.exec(e);
            if (e)
                return !t && /^<a /i.test(e[0]) ? t = !0 : t && /^<\/a>/i.test(e[0]) && (t = !1),
                !n && /^<(pre|code|kbd|script)(\s|>)/i.test(e[0]) ? n = !0 : n && /^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0]) && (n = !1),
                {
                    type: this.options.sanitize ? "text" : "html",
                    raw: e[0],
                    inLink: t,
                    inRawBlock: n,
                    text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(e[0]) : b(e[0]) : e[0]
                }
        }
        link(n) {
            const r = this.rules.inline.link.exec(n);
            if (r) {
                const n = zt(r[2], "()");
                var i;
                -1 < n && (i = (0 === r[0].indexOf("!") ? 5 : 4) + r[1].length + n,
                r[2] = r[2].substring(0, n),
                r[0] = r[0].substring(0, i).trim(),
                r[3] = "");
                let e = r[2]
                  , t = "";
                if (this.options.pedantic) {
                    const n = /^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(e);
                    t = n ? (e = n[1],
                    n[3]) : ""
                } else
                    t = r[3] ? r[3].slice(1, -1) : "";
                return Ct(r, {
                    href: (e = e.trim().replace(/^<([\s\S]*)>$/, "$1")) ? e.replace(this.rules.inline._escapes, "$1") : e,
                    title: t && t.replace(this.rules.inline._escapes, "$1")
                }, r[0])
            }
        }
        reflink(t, n) {
            let r;
            if ((r = this.rules.inline.reflink.exec(t)) || (r = this.rules.inline.nolink.exec(t))) {
                let e = (r[2] || r[1]).replace(/\s+/g, " ");
                if ((e = n[e.toLowerCase()]) && e.href)
                    return Ct(r, e, r[0]);
                {
                    const t = r[0].charAt(0);
                    return {
                        type: "text",
                        raw: t,
                        text: t
                    }
                }
            }
        }
        strong(e) {
            e = this.rules.inline.strong.exec(e);
            if (e)
                return {
                    type: "strong",
                    raw: e[0],
                    text: e[4] || e[3] || e[2] || e[1]
                }
        }
        em(e) {
            e = this.rules.inline.em.exec(e);
            if (e)
                return {
                    type: "em",
                    raw: e[0],
                    text: e[6] || e[5] || e[4] || e[3] || e[2] || e[1]
                }
        }
        codespan(e) {
            const t = this.rules.inline.code.exec(e);
            if (t)
                return {
                    type: "codespan",
                    raw: t[0],
                    text: b(t[2].trim(), !0)
                }
        }
        br(e) {
            e = this.rules.inline.br.exec(e);
            if (e)
                return {
                    type: "br",
                    raw: e[0]
                }
        }
        del(e) {
            e = this.rules.inline.del.exec(e);
            if (e)
                return {
                    type: "del",
                    raw: e[0],
                    text: e[1]
                }
        }
        autolink(n, r) {
            n = this.rules.inline.autolink.exec(n);
            if (n) {
                let e, t;
                return t = "@" === n[2] ? "mailto:" + (e = b(this.options.mangle ? r(n[1]) : n[1])) : e = b(n[1]),
                {
                    type: "link",
                    raw: n[0],
                    text: e,
                    href: t,
                    tokens: [{
                        type: "text",
                        raw: e,
                        text: e
                    }]
                }
            }
        }
        url(e, n) {
            let r;
            if (r = this.rules.inline.url.exec(e)) {
                let e, t;
                if ("@" === r[2])
                    t = "mailto:" + (e = b(this.options.mangle ? n(r[0]) : r[0]));
                else {
                    for (var i; i = r[0],
                    r[0] = this.rules.inline._backpedal.exec(r[0])[0],
                    i !== r[0]; )
                        ;
                    e = b(r[0]),
                    t = "www." === r[1] ? "http://" + e : e
                }
                return {
                    type: "link",
                    raw: r[0],
                    text: e,
                    href: t,
                    tokens: [{
                        type: "text",
                        raw: e,
                        text: e
                    }]
                }
            }
        }
        inlineText(e, t, n) {
            e = this.rules.inline.text.exec(e);
            if (e)
                return t = t ? this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(e[0]) : b(e[0]) : e[0] : b(this.options.smartypants ? n(e[0]) : e[0]),
                {
                    type: "text",
                    raw: e[0],
                    text: t
                }
        }
    }
    ;
    const {noopTest: w, edit: x, merge: A} = h
      , $ = {
        newline: /^\n+/,
        code: /^( {4}[^\n]+\n*)+/,
        fences: /^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,
        hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
        heading: /^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,
        blockquote: /^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,
        list: /^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
        html: "^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
        def: /^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,
        nptable: w,
        table: w,
        lheading: /^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,
        _paragraph: /^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,
        text: /^[^\n]+/,
        _label: /(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,
        _title: /(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/
    }
      , S = ($.def = x($.def).replace("label", $._label).replace("title", $._title).getRegex(),
    $.bullet = /(?:[*+-]|\d{1,9}\.)/,
    $.item = /^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,
    $.item = x($.item, "gm").replace(/bull/g, $.bullet).getRegex(),
    $.list = x($.list).replace(/bull/g, $.bullet).replace("hr", "\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def", "\\n+(?=" + $.def.source + ")").getRegex(),
    $._tag = "address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",
    $._comment = /<!--(?!-?>)[\s\S]*?-->/,
    $.html = x($.html, "i").replace("comment", $._comment).replace("tag", $._tag).replace("attribute", / +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),
    $.paragraph = x($._paragraph).replace("hr", $.hr).replace("heading", " {0,3}#{1,6} ").replace("|lheading", "").replace("blockquote", " {0,3}>").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", $._tag).getRegex(),
    $.blockquote = x($.blockquote).replace("paragraph", $.paragraph).getRegex(),
    $.normal = A({}, $),
    $.gfm = A({}, $.normal, {
        nptable: "^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",
        table: "^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"
    }),
    $.gfm.nptable = x($.gfm.nptable).replace("hr", $.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", $._tag).getRegex(),
    $.gfm.table = x($.gfm.table).replace("hr", $.hr).replace("heading", " {0,3}#{1,6} ").replace("blockquote", " {0,3}>").replace("code", " {4}[^\\n]").replace("fences", " {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list", " {0,3}(?:[*+-]|1[.)]) ").replace("html", "</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag", $._tag).getRegex(),
    $.pedantic = A({}, $.normal, {
        html: x("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment", $._comment).replace(/tag/g, "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
        def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,
        heading: /^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,
        fences: w,
        paragraph: x($.normal._paragraph).replace("hr", $.hr).replace("heading", " *#{1,6} *[^\n]").replace("lheading", $.lheading).replace("blockquote", " {0,3}>").replace("|fences", "").replace("|list", "").replace("|html", "").getRegex()
    }),
    {
        escape: /^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,
        autolink: /^<(scheme:[^\s\x00-\x1f<>]*|email)>/,
        url: w,
        tag: "^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",
        link: /^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,
        reflink: /^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,
        nolink: /^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
        strong: /^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,
        em: /^_([^\s_])_(?!_)|^_([^\s_<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s*<\[])\*(?!\*)|^\*([^\s<"][\s\S]*?[^\s\[\*])\*(?![\]`punctuation])|^\*([^\s*"<\[][\s\S]*[^\s])\*(?!\*)/,
        code: /^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,
        br: /^( {2,}|\\)\n(?!\s*$)/,
        del: w,
        text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,
        _punctuation: "!\"#$%&'()*+\\-./:;<=>?@\\[^_{|}~"
    });
    S.em = x(S.em).replace(/punctuation/g, S._punctuation).getRegex(),
    S._escapes = /\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,
    S._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,
    S._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,
    S.autolink = x(S.autolink).replace("scheme", S._scheme).replace("email", S._email).getRegex(),
    S._attribute = /\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,
    S.tag = x(S.tag).replace("comment", $._comment).replace("attribute", S._attribute).getRegex(),
    S._label = /(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,
    S._href = /<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,
    S._title = /"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,
    S.link = x(S.link).replace("label", S._label).replace("href", S._href).replace("title", S._title).getRegex(),
    S.reflink = x(S.reflink).replace("label", S._label).getRegex(),
    S.normal = A({}, S),
    S.pedantic = A({}, S.normal, {
        strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
        em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,
        link: x(/^!?\[(label)\]\((.*?)\)/).replace("label", S._label).getRegex(),
        reflink: x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label", S._label).getRegex()
    }),
    S.gfm = A({}, S.normal, {
        escape: x(S.escape).replace("])", "~|])").getRegex(),
        _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,
        url: /^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
        _backpedal: /(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
        del: /^~+(?=\S)([\s\S]*?\S)~+/,
        text: /^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/
    }),
    S.gfm.url = x(S.gfm.url, "i").replace("email", S.gfm._extended_email).getRegex(),
    S.breaks = A({}, S.gfm, {
        br: x(S.br).replace("{2,}", "*").getRegex(),
        text: x(S.gfm.text).replace("\\b_", "\\b_| {2,}\\n").replace(/\{2,\}/g, "*").getRegex()
    });
    o = {
        block: $,
        inline: S
    };
    const Tt = t["defaults"]
      , {block: Rt, inline: O} = o;
    function Mt(e) {
        return e.replace(/---/g, "—").replace(/--/g, "–").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1‘").replace(/'/g, "’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1“").replace(/"/g, "”").replace(/\.{3}/g, "…")
    }
    function Ft(e) {
        let t, n, r = "";
        var i = e.length;
        for (t = 0; t < i; t++)
            n = e.charCodeAt(t),
            .5 < Math.random() && (n = "x" + n.toString(16)),
            r += "&#" + n + ";";
        return r
    }
    var Ut = class I {
        constructor(e) {
            this.tokens = [],
            this.tokens.links = Object.create(null),
            this.options = e || Tt,
            this.options.tokenizer = this.options.tokenizer || new It,
            this.tokenizer = this.options.tokenizer,
            this.tokenizer.options = this.options;
            const t = {
                block: Rt.normal,
                inline: O.normal
            };
            this.options.pedantic ? (t.block = Rt.pedantic,
            t.inline = O.pedantic) : this.options.gfm && (t.block = Rt.gfm,
            t.inline = this.options.breaks ? O.breaks : O.gfm),
            this.tokenizer.rules = t
        }
        static get rules() {
            return {
                block: Rt,
                inline: O
            }
        }
        static lex(e, t) {
            return new I(t).lex(e)
        }
        lex(e) {
            return e = e.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    "),
            this.blockTokens(e, this.tokens, !0),
            this.inline(this.tokens),
            this.tokens
        }
        blockTokens(e, t=[], n=!0) {
            let r, i, o;
            for (e = e.replace(/^ +$/gm, ""); e; )
                if (r = this.tokenizer.space(e))
                    e = e.substring(r.raw.length),
                    r.type && t.push(r);
                else if (r = this.tokenizer.code(e, t))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (r = this.tokenizer.fences(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (r = this.tokenizer.heading(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (r = this.tokenizer.nptable(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (r = this.tokenizer.hr(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (r = this.tokenizer.blockquote(e))
                    e = e.substring(r.raw.length),
                    r.tokens = this.blockTokens(r.text, [], n),
                    t.push(r);
                else if (r = this.tokenizer.list(e)) {
                    for (e = e.substring(r.raw.length),
                    o = r.items.length,
                    i = 0; i < o; i++)
                        r.items[i].tokens = this.blockTokens(r.items[i].text, [], !1);
                    t.push(r)
                } else if (r = this.tokenizer.html(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (n && (r = this.tokenizer.def(e)))
                    e = e.substring(r.raw.length),
                    this.tokens.links[r.tag] || (this.tokens.links[r.tag] = {
                        href: r.href,
                        title: r.title
                    });
                else if (r = this.tokenizer.table(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (r = this.tokenizer.lheading(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (n && (r = this.tokenizer.paragraph(e)))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (r = this.tokenizer.text(e))
                    e = e.substring(r.raw.length),
                    t.push(r);
                else if (e) {
                    const t = "Infinite loop on byte: " + e.charCodeAt(0);
                    if (this.options.silent) {
                        console.error(t);
                        break
                    }
                    throw new Error(t)
                }
            return t
        }
        inline(e) {
            let t, n, r, i, o, a;
            var s = e.length;
            for (t = 0; t < s; t++)
                switch ((a = e[t]).type) {
                case "paragraph":
                case "text":
                case "heading":
                    a.tokens = [],
                    this.inlineTokens(a.text, a.tokens);
                    break;
                case "table":
                    for (a.tokens = {
                        header: [],
                        cells: []
                    },
                    i = a.header.length,
                    n = 0; n < i; n++)
                        a.tokens.header[n] = [],
                        this.inlineTokens(a.header[n], a.tokens.header[n]);
                    for (i = a.cells.length,
                    n = 0; n < i; n++)
                        for (o = a.cells[n],
                        a.tokens.cells[n] = [],
                        r = 0; r < o.length; r++)
                            a.tokens.cells[n][r] = [],
                            this.inlineTokens(o[r], a.tokens.cells[n][r]);
                    break;
                case "blockquote":
                    this.inline(a.tokens);
                    break;
                case "list":
                    for (i = a.items.length,
                    n = 0; n < i; n++)
                        this.inline(a.items[n].tokens)
                }
            return e
        }
        inlineTokens(e, t=[], n=!1, r=!1) {
            let i;
            for (; e; )
                if (i = this.tokenizer.escape(e))
                    e = e.substring(i.raw.length),
                    t.push(i);
                else if (i = this.tokenizer.tag(e, n, r))
                    e = e.substring(i.raw.length),
                    n = i.inLink,
                    r = i.inRawBlock,
                    t.push(i);
                else if (i = this.tokenizer.link(e))
                    e = e.substring(i.raw.length),
                    "link" === i.type && (i.tokens = this.inlineTokens(i.text, [], !0, r)),
                    t.push(i);
                else if (i = this.tokenizer.reflink(e, this.tokens.links))
                    e = e.substring(i.raw.length),
                    "link" === i.type && (i.tokens = this.inlineTokens(i.text, [], !0, r)),
                    t.push(i);
                else if (i = this.tokenizer.strong(e))
                    e = e.substring(i.raw.length),
                    i.tokens = this.inlineTokens(i.text, [], n, r),
                    t.push(i);
                else if (i = this.tokenizer.em(e))
                    e = e.substring(i.raw.length),
                    i.tokens = this.inlineTokens(i.text, [], n, r),
                    t.push(i);
                else if (i = this.tokenizer.codespan(e))
                    e = e.substring(i.raw.length),
                    t.push(i);
                else if (i = this.tokenizer.br(e))
                    e = e.substring(i.raw.length),
                    t.push(i);
                else if (i = this.tokenizer.del(e))
                    e = e.substring(i.raw.length),
                    i.tokens = this.inlineTokens(i.text, [], n, r),
                    t.push(i);
                else if (i = this.tokenizer.autolink(e, Ft))
                    e = e.substring(i.raw.length),
                    t.push(i);
                else if (n || !(i = this.tokenizer.url(e, Ft))) {
                    if (i = this.tokenizer.inlineText(e, r, Mt))
                        e = e.substring(i.raw.length),
                        t.push(i);
                    else if (e) {
                        const t = "Infinite loop on byte: " + e.charCodeAt(0);
                        if (this.options.silent) {
                            console.error(t);
                            break
                        }
                        throw new Error(t)
                    }
                } else
                    e = e.substring(i.raw.length),
                    t.push(i);
            return t
        }
    }
    ;
    const Bt = t["defaults"]
      , {cleanUrl: Lt, escape: Nt} = h;
    var Dt = class {
        constructor(e) {
            this.options = e || Bt
        }
        code(e, t, n) {
            var r = (t || "").match(/\S*/)[0];
            if (this.options.highlight) {
                const t = this.options.highlight(e, r);
                null != t && t !== e && (n = !0,
                e = t)
            }
            return r ? '<div class="code-wrapper"><pre><code class="' + this.options.langPrefix + Nt(r, !0) + '">' + (n ? e : Nt(e, !0)) + "</code></pre></div>\n" : "<div class="code-wrapper"><pre><code class="hljs">" + (n ? e : Nt(e, !0)) + "</code></pre></div>"
        }
        blockquote(e) {
            return "<blockquote>\n" + e + "</blockquote>\n"
        }
        html(e) {
            return e
        }
        heading(e, t, n, r) {
            return this.options.headerIds ? "<h" + t + ' id="' + this.options.headerPrefix + r.slug(n) + '">' + e + "</h" + t + ">\n" : "<h" + t + ">" + e + "</h" + t + ">\n"
        }
        hr() {
            return this.options.xhtml ? "<hr/>\n" : "<hr>\n"
        }
        list(e, t, n) {
            var r = t ? "ol" : "ul";
            return "<" + r + (t && 1 !== n ? ' start="' + n + '"' : "") + ">\n" + e + "</" + r + ">\n"
        }
        listitem(e) {
            return "<li>" + e + "</li>\n"
        }
        checkbox(e) {
            return "<input " + (e ? 'checked="" ' : "") + 'disabled="" type="checkbox"' + (this.options.xhtml ? " /" : "") + "> "
        }
        paragraph(e) {
            return "<p>" + e + "</p>\n"
        }
        table(e, t) {
            return "<table>\n<thead>\n" + e + "</thead>\n" + (t = t && "<tbody>" + t + "</tbody>") + "</table>\n"
        }
        tablerow(e) {
            return "<tr>\n" + e + "</tr>\n"
        }
        tablecell(e, t) {
            var n = t.header ? "th" : "td";
            return (t.align ? "<" + n + ' align="' + t.align + '">' : "<" + n + ">") + e + "</" + n + ">\n"
        }
        strong(e) {
            return "<strong>" + e + "</strong>"
        }
        em(e) {
            return "<em>" + e + "</em>"
        }
        codespan(e) {
            return "<code>" + e + "</code>"
        }
        br() {
            return this.options.xhtml ? "<br/>" : "<br>"
        }
        del(e) {
            return "<del>" + e + "</del>"
        }
        link(e, t, n) {
            if (null === (e = Lt(this.options.sanitize, this.options.baseUrl, e)))
                return n;
            let r = '<a href="' + Nt(e) + '"';
            return t && (r += ' title="' + t + '"'),
            r + ">" + n + "</a>"
        }
        image(e, t, n) {
            if (null === (e = Lt(this.options.sanitize, this.options.baseUrl, e)))
                return n;
            let r = '<img src="' + e + '" alt="' + n + '"';
            return t && (r += ' title="' + t + '"'),
            r + (this.options.xhtml ? "/>" : ">")
        }
        text(e) {
            return e
        }
    }
      , Qt = class {
        strong(e) {
            return e
        }
        em(e) {
            return e
        }
        codespan(e) {
            return e
        }
        del(e) {
            return e
        }
        html(e) {
            return e
        }
        text(e) {
            return e
        }
        link(e, t, n) {
            return "" + n
        }
        image(e, t, n) {
            return "" + n
        }
        br() {
            return ""
        }
    }
      , qt = class {
        constructor() {
            this.seen = {}
        }
        slug(e) {
            let t = e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi, "").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g, "").replace(/\s/g, "-");
            if (this.seen.hasOwnProperty(t)) {
                const e = t;
                for (; this.seen[e]++,
                t = e + "-" + this.seen[e],
                this.seen.hasOwnProperty(t); )
                    ;
            }
            return this.seen[t] = 0,
            t
        }
    }
    ;
    const Vt = t["defaults"]
      , Wt = h["unescape"];
    var Ht = class I {
        constructor(e) {
            this.options = e || Vt,
            this.options.renderer = this.options.renderer || new Dt,
            this.renderer = this.options.renderer,
            this.renderer.options = this.options,
            this.textRenderer = new Qt,
            this.slugger = new qt
        }
        static parse(e, t) {
            return new I(t).parse(e)
        }
        parse(e, t=!0) {
            let n, r, i, o, a, s, l, c, p, u, d, f, h, g, y, m, v, b, w = "";
            var x = e.length;
            for (n = 0; n < x; n++)
                switch ((u = e[n]).type) {
                case "space":
                    continue;
                case "hr":
                    w += this.renderer.hr();
                    continue;
                case "heading":
                    w += this.renderer.heading(this.parseInline(u.tokens), u.depth, Wt(this.parseInline(u.tokens, this.textRenderer)), this.slugger);
                    continue;
                case "code":
                    w += this.renderer.code(u.text, u.lang, u.escaped);
                    continue;
                case "table":
                    for (c = "",
                    l = "",
                    o = u.header.length,
                    r = 0; r < o; r++)
                        l += this.renderer.tablecell(this.parseInline(u.tokens.header[r]), {
                            header: !0,
                            align: u.align[r]
                        });
                    for (c += this.renderer.tablerow(l),
                    p = "",
                    o = u.cells.length,
                    r = 0; r < o; r++) {
                        for (l = "",
                        a = (s = u.tokens.cells[r]).length,
                        i = 0; i < a; i++)
                            l += this.renderer.tablecell(this.parseInline(s[i]), {
                                header: !1,
                                align: u.align[i]
                            });
                        p += this.renderer.tablerow(l)
                    }
                    w += this.renderer.table(c, p);
                    continue;
                case "blockquote":
                    p = this.parse(u.tokens),
                    w += this.renderer.blockquote(p);
                    continue;
                case "list":
                    for (d = u.ordered,
                    f = u.start,
                    h = u.loose,
                    o = u.items.length,
                    p = "",
                    r = 0; r < o; r++)
                        m = (y = u.items[r]).checked,
                        v = y.task,
                        g = "",
                        y.task && (b = this.renderer.checkbox(m),
                        h ? "text" === y.tokens[0].type ? (y.tokens[0].text = b + " " + y.tokens[0].text,
                        y.tokens[0].tokens && 0 < y.tokens[0].tokens.length && "text" === y.tokens[0].tokens[0].type && (y.tokens[0].tokens[0].text = b + " " + y.tokens[0].tokens[0].text)) : y.tokens.unshift({
                            type: "text",
                            text: b
                        }) : g += b),
                        g += this.parse(y.tokens, h),
                        p += this.renderer.listitem(g, v, m);
                    w += this.renderer.list(p, d, f);
                    continue;
                case "html":
                    w += this.renderer.html(u.text);
                    continue;
                case "paragraph":
                    w += this.renderer.paragraph(this.parseInline(u.tokens));
                    continue;
                case "text":
                    for (p = u.tokens ? this.parseInline(u.tokens) : u.text; n + 1 < x && "text" === e[n + 1].type; )
                        p += "\n" + ((u = e[++n]).tokens ? this.parseInline(u.tokens) : u.text);
                    w += t ? this.renderer.paragraph(p) : p;
                    continue;
                default:
                    {
                        const e = 'Token with "' + u.type + '" type was not found.';
                        if (this.options.silent)
                            return void console.error(e);
                        throw new Error(e)
                    }
                }
            return w
        }
        parseInline(e, t) {
            t = t || this.renderer;
            let n, r, i = "";
            var o = e.length;
            for (n = 0; n < o; n++)
                switch ((r = e[n]).type) {
                case "escape":
                    i += t.text(r.text);
                    break;
                case "html":
                    i += t.html(r.text);
                    break;
                case "link":
                    i += t.link(r.href, r.title, this.parseInline(r.tokens, t));
                    break;
                case "image":
                    i += t.image(r.href, r.title, r.text);
                    break;
                case "strong":
                    i += t.strong(this.parseInline(r.tokens, t));
                    break;
                case "em":
                    i += t.em(this.parseInline(r.tokens, t));
                    break;
                case "codespan":
                    i += t.codespan(r.text);
                    break;
                case "br":
                    i += t.br();
                    break;
                case "del":
                    i += t.del(this.parseInline(r.tokens, t));
                    break;
                case "text":
                    i += t.text(r.text);
                    break;
                default:
                    {
                        const e = 'Token with "' + r.type + '" type was not found.';
                        if (this.options.silent)
                            return void console.error(e);
                        throw new Error(e)
                    }
                }
            return i
        }
    }
    ;
    const {merge: Zt, checkSanitizeDeprecation: Kt, escape: Jt} = h
      , {getDefaults: Xt, changeDefaults: Gt, defaults: Yt} = t;
    function E(t, i, o) {
        if (null == t)
            throw new Error("marked(): input parameter is undefined or null");
        if ("string" != typeof t)
            throw new Error("marked(): input parameter is of type " + Object.prototype.toString.call(t) + ", string expected");
        if (o || "function" == typeof i) {
            o || (o = i,
            i = null),
            i = Zt({}, E.defaults, i || {}),
            Kt(i);
            const a = i.highlight;
            let n, r, e = 0;
            try {
                n = Ut.lex(t, i)
            } catch (t) {
                return o(t)
            }
            r = n.length;
            const s = function(t) {
                if (t)
                    return i.highlight = a,
                    o(t);
                let e;
                try {
                    e = Ht.parse(n, i)
                } catch (e) {
                    t = e
                }
                return i.highlight = a,
                t ? o(t) : o(null, e)
            };
            if (!a || a.length < 3)
                return s();
            if (delete i.highlight,
            !r)
                return s();
            for (; e < n.length; e++)
                !function(n) {
                    "code" !== n.type ? --r || s() : a(n.text, n.lang, function(e, t) {
                        return e ? s(e) : null == t || t === n.text ? --r || s() : (n.text = t,
                        n.escaped = !0,
                        void (--r || s()))
                    })
                }(n[e])
        } else
            try {
                return i = Zt({}, E.defaults, i || {}),
                Kt(i),
                Ht.parse(Ut.lex(t, i), i)
            } catch (t) {
                if (t.message += "\nPlease report this to https://github.com/markedjs/marked.",
                (i || E.defaults).silent)
                    return "<p>An error occurred:</p><div class="code-wrapper"><pre>" + Jt(t.message + "", !0) + "</pre></div>";
                throw t
            }
    }
    E.options = E.setOptions = function(e) {
        return Zt(E.defaults, e),
        Gt(E.defaults),
        E
    }
    ,
    E.getDefaults = Xt,
    E.defaults = Yt,
    E.use = function(n) {
        const r = Zt({}, n);
        if (n.renderer) {
            const i = E.defaults.renderer || new Dt;
            for (const r in n.renderer) {
                const o = i[r];
                i[r] = (...e)=>{
                    let t = n.renderer[r].apply(i, e);
                    return t = !1 === t ? o.apply(i, e) : t
                }
            }
            r.renderer = i
        }
        if (n.tokenizer) {
            const a = E.defaults.tokenizer || new It;
            for (const r in n.tokenizer) {
                const s = a[r];
                a[r] = (...e)=>{
                    let t = n.tokenizer[r].apply(a, e);
                    return t = !1 === t ? s.apply(a, e) : t
                }
            }
            r.tokenizer = a
        }
        E.setOptions(r)
    }
    ,
    E.Parser = Ht,
    E.parser = Ht.parse,
    E.Renderer = Dt,
    E.TextRenderer = Qt,
    E.Lexer = Ut,
    E.lexer = Ut.lex,
    E.Tokenizer = It,
    E.Slugger = qt;
    function en(e, t, n, r) {
        if (/code|pre|span/i.test(e)) {
            var i;
            if ("style" == t)
                return (i = n.match(/color:([#a-z0-9]{3,7}|\s+[#a-z0-9]{3,8})/gi)) && i.length ? 'style="' + i[0] + '"' : "";
            if ("class" == t)
                return t + "='" + T.escapeAttrValue(n) + "'"
        }
        return "a" === e && "class" == t && "at" === n ? t + "='" + T.escapeAttrValue(n) + "'" : "img" === e && /src|class/i.test(t) ? t + "='" + T.escapeAttrValue(n) + "' referrerPolicy='no-referrer'" : void 0
    }
    var tn = E.parse = E
      , nn = e(function(e, t) {
        var n, r, s;
        e.exports = ((n = (e = {
            exports: {}
        }).exports = function() {
            return new RegExp("(?:" + n.line().source + ")|(?:" + n.block().source + ")","gm")
        }
        ).line = function() {
            return /(?:^|\s)\/\/(.+?)$/gm
        }
        ,
        n.block = function() {
            return /\/\*([\S\s]*?)\*\//gm
        }
        ,
        r = e.exports,
        s = ["23AC69", "91C132", "F19726", "E8552D", "1AAB8E", "E1147F", "2980C1", "1BA1E6", "9FA0A0", "F19726", "E30B20", "E30B20", "A3338B"],
        function(e, t) {
            var i = (t = void 0 === t ? {} : t).colors
              , o = (void 0 === i && (i = s),
            0)
              , a = {}
              , t = new RegExp("(" + /[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/.source + "|" + /</.source + ")|(" + r().source + ")","gmi");
            return e.replace(t, function(e, t, n) {
                return n ? '<span style="color: slategray">' + n + "</span>" : "<" === t ? "&lt;" : (a[t] ? r = a[t] : a[t] = r = i[o],
                o = ++o % i.length,
                '<span style="color: #' + r + '">' + t + "</span>");
                var r
            })
        }
        )
    })
      , p = new tn.Renderer
      , F = (p.code = function(e, t) {
        return '<div class="code-wrapper"><pre><code class="hljs language-' + t + '">' + (t && hljs.getLanguage(t) ? hljs.highlight(t, e).value : I.escape(e)) + "</code></pre></div>"
    }
    ,
    tn.setOptions({
        renderer: "hljs"in window ? p : new tn.Renderer,
        highlight: function(e, t) {
            return "hljs"in window ? t && hljs.getLanguage(t) && hljs.highlight(t, e, !0).value || hljs.highlightAuto(e).value : nn(e)
        },
        gfm: !0,
        tables: !0,
        breaks: !0,
        pedantic: !1,
        sanitize: !0,
        smartLists: !0,
        smartypants: !0,
        headerPrefi: "v-"
    }),
    {
        comment: "",
        nick: "",
        mail: "",
        link: "",
        ua: I.ua,
        url: "",
        QQAvatar: ""
    })
      , U = ""
      , B = {
        cdn: "https://cravatar.cn/avatar/",
        ds: ["mp", "identicon", "monsterid", "wavatar", "robohash", "retro", ""],
        params: "",
        hide: !1
    };
    function _(e) {
        return e && this.init(e),
        this
    }
    _.prototype.init = function(e) {
        if ("undefined" == typeof document)
            throw new Error("Sorry, Valine does not support Server-side rendering.");
        var t, n;
        return e && (e = I.extend(We, e),
        this.i18n = (n = e.langMode,
        !Ve[t = e.lang || I.lang] && t && n && (Ve[t] = n),
        new qe({
            phrases: Ve[t || "zh"],
            locale: t
        })),
        this.cfg = e,
        R.maps = !!e.emojiMaps && e.emojiMaps || R.maps,
        R.cdn = !!e.emojiCDN && e.emojiCDN || R.cdn,
        this._init()),
        this
    }
    ,
    _.prototype._init = function() {
        var t, e, i, o, n, a = this;
        try {
            var r, s, l, c, p, u = a.cfg, d = u.avatar, f = u.avatarForce, h = u.avatar_cdn, g = u.visitor, y = u.path, m = (void 0 === y && (y = location.pathname),
            u.pageSize), v = u.recordIP, b = (a.config.path = y.replace(/index\.html?$/, ""),
            f ? "&q=" + De : ""), w = (B.params = "?d=" + (-1 < B.ds.indexOf(d) ? d : "mp") + "&v=1.4.15" + b,
            B.hide = "hide" === d,
            B.cdn = /^https?\:\/\//.test(h) ? h : B.cdn,
            a.cfg.pageSize = isNaN(m) || m < 1 ? 10 : m,
            v && (t = function(e) {
                return F.ip = e
            }
            ,
            e = "JSONcallback_" + De(),
            I.sdkLoader("//api.ip.sb/jsonip?callback=" + e, e),
            window[e] = function(e) {
                t(e.ip),
                I.deleteInWin(t)
            }
            ),
            a.cfg.el || null), x = I(w);
            (w = w instanceof HTMLElement ? w : x[x.length - 1] || null) && (a.$el = I(w),
            a.$el.addClass("v").attr("data-class", "v"),
            B.hide && a.$el.addClass("hide-avatar"),
            a.cfg.meta = (a.cfg.guest_info || a.cfg.meta || k).filter(function(e) {
                return -1 < k.indexOf(e)
            }),
            a.cfg.requiredFields = a.cfg.requiredFields.filter(function(e) {
                return -1 < k.indexOf(e)
            }),
            r = (0 == a.cfg.meta.length ? k : a.cfg.meta).map(function(e) {
                var t = "mail" == e ? "email" : "text";
                return -1 < k.indexOf(e) ? '<input name="' + e + '" placeholder="' + a.i18n.t(e) + '" class="v' + e + ' vinput" type="' + t + '">' : ""
            }),
            s = '<div class="vpanel"><div class="vwrap"><p class="cancel-reply text-right" style="display:none;" title="' + a.i18n.t("cancelReply") + '"><svg class="vicon cancel-reply-btn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4220" width="22" height="22"><path d="M796.454 985H227.545c-50.183 0-97.481-19.662-133.183-55.363-35.7-35.701-55.362-83-55.362-133.183V227.545c0-50.183 19.662-97.481 55.363-133.183 35.701-35.7 83-55.362 133.182-55.362h568.909c50.183 0 97.481 19.662 133.183 55.363 35.701 35.702 55.363 83 55.363 133.183v568.909c0 50.183-19.662 97.481-55.363 133.183S846.637 985 796.454 985zM227.545 91C152.254 91 91 152.254 91 227.545v568.909C91 871.746 152.254 933 227.545 933h568.909C871.746 933 933 871.746 933 796.454V227.545C933 152.254 871.746 91 796.454 91H227.545z" p-id="4221"></path><path d="M568.569 512l170.267-170.267c15.556-15.556 15.556-41.012 0-56.569s-41.012-15.556-56.569 0L512 455.431 341.733 285.165c-15.556-15.556-41.012-15.556-56.569 0s-15.556 41.012 0 56.569L455.431 512 285.165 682.267c-15.556 15.556-15.556 41.012 0 56.569 15.556 15.556 41.012 15.556 56.569 0L512 568.569l170.267 170.267c15.556 15.556 41.012 15.556 56.569 0 15.556-15.556 15.556-41.012 0-56.569L568.569 512z" p-id="4222" ></path></svg></p><div class="vheader item' + r.length + '">' + r.join("") + '</div><div class="vedit"><textarea id="veditor" class="veditor vinput" placeholder="' + a.cfg.placeholder + '"></textarea><div class="vrow"><div class="vcol vcol-60 status-bar"></div><div class="vcol vcol-40 vctrl text-right"><span title="' + a.i18n.t("emoji") + '"  class="vicon vemoji-btn"><svg  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16172" width="22" height="22" ><path d="M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zM512 56.888889a455.111111 455.111111 0 1 0 455.111111 455.111111 455.111111 455.111111 0 0 0-455.111111-455.111111zM312.888889 512A85.333333 85.333333 0 1 1 398.222222 426.666667 85.333333 85.333333 0 0 1 312.888889 512z" p-id="16173"></path><path d="M512 768A142.222222 142.222222 0 0 1 369.777778 625.777778a28.444444 28.444444 0 0 1 56.888889 0 85.333333 85.333333 0 0 0 170.666666 0 28.444444 28.444444 0 0 1 56.888889 0A142.222222 142.222222 0 0 1 512 768z" p-id="16174"></path><path d="M782.222222 391.964444l-113.777778 59.733334a29.013333 29.013333 0 0 1-38.684444-10.808889 28.444444 28.444444 0 0 1 10.24-38.684445l113.777778-56.888888a28.444444 28.444444 0 0 1 38.684444 10.24 28.444444 28.444444 0 0 1-10.24 36.408888z" p-id="16175"></path><path d="M640.568889 451.697778l113.777778 56.888889a27.875556 27.875556 0 0 0 38.684444-10.24 27.875556 27.875556 0 0 0-10.24-38.684445l-113.777778-56.888889a28.444444 28.444444 0 0 0-38.684444 10.808889 28.444444 28.444444 0 0 0 10.24 38.115556z" p-id="16176"></path></svg></span><span title="' + a.i18n.t("preview") + '" class="vicon vpreview-btn"><svg  viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17688" width="22" height="22"><path d="M502.390154 935.384615a29.538462 29.538462 0 1 1 0 59.076923H141.430154C79.911385 994.461538 29.538462 946.254769 29.538462 886.153846V137.846154C29.538462 77.745231 79.950769 29.538462 141.390769 29.538462h741.218462c61.44 0 111.852308 48.206769 111.852307 108.307692v300.268308a29.538462 29.538462 0 1 1-59.076923 0V137.846154c0-26.899692-23.355077-49.230769-52.775384-49.230769H141.390769c-29.420308 0-52.775385 22.331077-52.775384 49.230769v748.307692c0 26.899692 23.355077 49.230769 52.775384 49.230769h360.999385z" p-id="17689"></path><path d="M196.923077 216.615385m29.538461 0l374.153847 0q29.538462 0 29.538461 29.538461l0 0q0 29.538462-29.538461 29.538462l-374.153847 0q-29.538462 0-29.538461-29.538462l0 0q0-29.538462 29.538461-29.538461Z" p-id="17690"></path><path d="M649.846154 846.769231a216.615385 216.615385 0 1 0 0-433.230769 216.615385 216.615385 0 0 0 0 433.230769z m0 59.076923a275.692308 275.692308 0 1 1 0-551.384616 275.692308 275.692308 0 0 1 0 551.384616z" p-id="17691"></path><path d="M807.398383 829.479768m20.886847-20.886846l0 0q20.886846-20.886846 41.773692 0l125.321079 125.321079q20.886846 20.886846 0 41.773693l0 0q-20.886846 20.886846-41.773693 0l-125.321078-125.321079q-20.886846-20.886846 0-41.773693Z" p-id="17692"></path></svg></span></div></div></div><div class="vrow"><div class="vcol vcol-30" ><a alt="Markdown is supported" href="https://guides.github.com/features/mastering-markdown/" class="vicon" target="_blank"><svg class="markdown" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></a></div><div class="vcol vcol-70 text-right"><button type="button"  title="Cmd|Ctrl+Enter" class="vsubmit vbtn">' + a.i18n.t("submit") + '</button></div></div><div class="vemojis" style="display:none;"></div><div class="vinput vpreview" style="display:none;"></div></div></div><div class="vcount" style="display:none;"><span class="vnum">0</span> ' + a.i18n.t("comments") + '</div><div class="vload-top text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vcards"></div><div class="vload-bottom text-center" style="display:none;"><i class="vspinner" style="width:30px;height:30px;"></i></div><div class="vempty" style="display:none;"></div><div class="vpage txt-center" style="display:none"><button type="button" class="vmore vbtn">' + a.i18n.t("more") + '</button></div><div class="vpower txt-right">Powered By <a href="https://valine.js.org" target="_blank">Valine</a><br>v1.4.15</div>',
            a.$el.html(s),
            a.$el.find(".cancel-reply").on("click", function(e) {
                a.reset()
            }),
            l = a.$el.find(".vempty"),
            a.$nodata = {
                show: function(e) {
                    return l.html(e || a.i18n.t("sofa")).show(),
                    a
                },
                hide: function() {
                    return l.hide(),
                    a
                }
            },
            c = a.$el.find(".vload-bottom"),
            p = a.$el.find(".vload-top"),
            a.$loading = {
                show: function(e) {
                    return e && p.show() || c.show(),
                    a.$nodata.hide(),
                    a
                },
                hide: function() {
                    return p.hide(),
                    c.hide(),
                    0 === a.$el.find(".vcard").length && a.$nodata.show(),
                    a
                }
            }),
            i = a.cfg,
            o = function(e) {
                console.log(2);
                var t = I(".valine-comment-count")
                  , i = 0;
                !function t(n) {
                    var e, r = n[i++];
                    r && (e = I(r).attr("data-xid")) && a.Q(e).count().then(function(e) {
                        r.innerText = e,
                        t(n)
                    }).catch(function(e) {
                        r.innerText = 0
                    })
                }(t),
                g && on.add(AV.Object.extend("Counter"), a.cfg.path),
                console.log(3),
                a.$el && a.bind()
            }
            ,
            "AV"in window && (n = window.AV.version || window.AV.VERSION,
            2 < parseInt(n.split(".")[0]) ? pt = !!AV.applicationId && !!AV.applicationKey : I.deleteInWin("AV", 0)),
            pt ? o() : I.sdkLoader("//cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js", "AV", function(e) {
                var t = "https://"
                  , n = i.app_id || i.appId
                  , r = i.app_key || i.appKey;
                if (!i.serverURLs)
                    switch (n.slice(-9)) {
                    case "-9Nh9j0Va":
                        t += "tab.";
                        break;
                    case "-MdYXbMMI":
                        t += "us."
                    }
                AV.init({
                    appId: n,
                    appKey: r,
                    serverURLs: i.serverURLs || t + "avoscloud.com"
                }),
                pt = !0,
                o()
            })
        } catch (e) {
            console.log(e),
            M(a, e)
        }
    }
    ;
    function rn(e, t) {
        var e = new e
          , n = new AV.ACL;
        n.setPublicReadAccess(!0),
        n.setPublicWriteAccess(!0),
        e.setACL(n),
        e.set("url", t.url),
        e.set("xid", t.xid),
        e.set("title", t.title),
        e.set("time", 1),
        e.save().then(function(e) {
            I(t.el).find(".leancloud-visitors-count").text(1)
        }).catch(function(e) {
            console.log(e)
        })
    }
    var on = {
        add: function(t, e) {
            var n, r, i, o, a, s = this, l = I(".leancloud_visitors,.leancloud-visitors");
            1 === l.length ? (n = l[0],
            r = decodeURI(I(n).attr("id")),
            i = I(n).attr("data-flag-title"),
            a = encodeURI(r),
            o = {
                el: n,
                url: r,
                xid: a,
                title: i
            },
            decodeURI(r) === decodeURI(e) ? ((a = new AV.Query(t)).equalTo("url", r),
            a.find().then(function(e) {
                0 < e.length ? ((e = e[0]).increment("time"),
                e.save().then(function(e) {
                    I(n).find(".leancloud-visitors-count").text(e.get("time"))
                }).catch(function(e) {
                    console.log(e)
                })) : rn(t, o)
            }).catch(function(e) {
                console.log(e),
                101 == e.code ? rn(t, o) : M(s, e)
            })) : on.show(t, l)) : on.show(t, l)
        },
        show: function(e, t) {
            var n = [];
            t.forEach(function(e) {
                var t = I(e).find(".leancloud-visitors-count");
                t && t.text("0"),
                n.push(/\%/.test(I(e).attr("id")) ? decodeURI(I(e).attr("id")) : I(e).attr("id"))
            }),
            n.length && ((e = new AV.Query(e)).containedIn("url", n),
            e.find().then(function(e) {
                0 < e.length && t.forEach(function(i) {
                    e.forEach(function(e) {
                        var t = e.get("xid") || encodeURI(e.get("url"))
                          , e = e.get("time")
                          , n = I(i)
                          , r = n.attr("id");
                        (/\%/.test(r) ? r : encodeURI(r)) == t && (r = n.find(".leancloud-visitors-count")) && r.text(e)
                    })
                })
            }).catch(function(e) {
                console.log(e)
            }))
        }
    };
    function an(e) {
        return new _(e)
    }
    _.prototype.Q = function(e) {
        var t, n = this.config.clazzName;
        if (1 == arguments.length)
            return (t = new AV.Query(n)).doesNotExist("rid"),
            (r = new AV.Query(n)).equalTo("rid", ""),
            t = AV.Query.or(t, r),
            "*" === e ? t.exists("url") : t.equalTo("url", decodeURI(e)),
            t.addDescending("createdAt"),
            t.addDescending("insertedAt"),
            t;
        var r = JSON.stringify(arguments[1]).replace(/(\[|\])/g, "");
        return AV.Query.doCloudQuery("select * from " + n + " where rid in (" + r + ") order by -createdAt,-createdAt")
    }
    ,
    _.prototype.installLocale = function(e, t) {
        return this.i18n(e, t),
        this
    }
    ,
    _.prototype.setPath = function(e) {
        return this.config.path = e,
        this
    }
    ,
    _.prototype.bind = function() {
        var e, r, i, s = this, n = s.$el.find(".vemojis"), o = s.$el.find(".vpreview"), a = s.$el.find(".vemoji-btn"), l = s.$el.find(".vpreview-btn"), c = s.$el.find(".veditor"), p = R.maps, u = !1, d = (s.$emoji = {
            show: function() {
                if (!u) {
                    var e, t = [];
                    for (e in p)
                        p.hasOwnProperty(e) && R.build(e) && t.push('<i title="' + e + '" >' + R.build(e) + "</i>");
                    n.html(t.join("")),
                    u = !0,
                    n.find("i").on("click", function(e) {
                        e.preventDefault(),
                        g(c[0], " :" + I(this).attr("title") + ":")
                    })
                }
                return s.$preview.hide(),
                n.show(),
                a.addClass("actived"),
                s.$emoji
            },
            hide: function() {
                return a.removeClass("actived"),
                n.hide(),
                s.$emoji
            }
        },
        s.$preview = {
            show: function() {
                return U ? (s.$emoji.hide(),
                l.addClass("actived"),
                o.html(U).show(),
                k()) : s.$preview.hide(),
                s.$preview
            },
            hide: function() {
                return l.removeClass("actived"),
                o.hide().html(""),
                s.$preview
            }
        },
        function(e) {
            t = e.val() || "";
            var t = R.parse(tn(t));
            t || s.$preview.hide(),
            U != t && (U = t,
            -1 < l.hasClass("actived") && U != o.html() && o.html(U),
            N(e[0]),
            k())
        }
        ), t = (a.on("click", function(e) {
            a.hasClass("actived") ? s.$emoji.hide() : s.$emoji.show()
        }),
        l.on("click", function(e) {
            l.hasClass("actived") ? s.$preview.hide() : s.$preview.show()
        }),
        s.cfg.meta), f = {}, h = {
            veditor: "comment"
        };
        for (e in t.forEach(function(e) {
            h["v" + e] = e
        }),
        h)
            h.hasOwnProperty(e) && (r = h[e],
            i = s.$el.find("." + e),
            (f[r] = i).on("input change blur propertychange", function(e) {
                var t, n;
                s.cfg.enableQQ && "blur" === e.type && "nick" === r && (isNaN(i.val()) ? I.store.get("_v_Cache_Q") && I.store.get("_v_Cache_Q").nick != i.val() && (I.store.remove("_v_Cache_Q"),
                F.nick = i.val(),
                F.mail = "",
                F.QQAvatar = "") : (e = i.val(),
                t = function(e) {
                    var t = e.nick || i.val()
                      , n = e.qq + "@qq.com";
                    I(".vnick").val(t),
                    I(".vmail").val(n),
                    F.nick = t,
                    F.mail = n,
                    F.QQAvatar = e.pic
                }
                ,
                (n = I.store.get("_v_Cache_Q")) && n.qq == e ? t(n) : I.ajax({
                    type: "POST",
                    url: "//valine.api.ioliu.cn/getqqinfo",
                    data: {
                        qq: e
                    },
                    success: function(e) {
                        e.errmsg || (I.store.set("_v_Cache_Q", e),
                        t(e))
                    }
                }))),
                "comment" === r ? d(i) : F[r] = I.escape(i.val().replace(/(^\s*)|(\s*$)/g, "")).substring(0, 40)
            }));
        var g = function(t, e) {
            var n, r, i;
            document.selection ? (t.focus(),
            document.selection.createRange().text = e,
            t.focus()) : t.selectionStart || "0" == t.selectionStart ? (n = t.selectionStart,
            r = t.selectionEnd,
            i = t.scrollTop,
            t.value = t.value.substring(0, n) + e + t.value.substring(r, t.value.length),
            t.focus(),
            t.selectionStart = n + e.length,
            t.selectionEnd = n + e.length,
            t.scrollTop = i) : (t.focus(),
            t.value += e),
            setTimeout(function(e) {
                d(I(t))
            }, 100)
        }
          , y = {
            no: 1,
            size: s.cfg.pageSize,
            skip: s.cfg.pageSize
        }
          , m = s.$el.find(".vpage")
          , v = (m.on("click", function(e) {
            m.hide(),
            y.no++,
            v()
        }),
        function() {
            var n = y.size
              , r = y.no
              , i = Number(s.$el.find(".vnum").text())
              , e = (s.$loading.show(),
            s.Q(s.cfg.path));
            e.limit(n),
            e.skip((r - 1) * n),
            e.find().then(function(e) {
                var t;
                y.skip = y.size,
                e && e.length ? (t = [],
                e.forEach(function(e) {
                    t.push(e.id),
                    b(e, s.$el.find(".vcards"), !0)
                }),
                s.Q(s.cfg.path, t).then(function(e) {
                    (e && e.results || []).forEach(function(e) {
                        b(e, I('.vquote[data-self-id="' + e.get("rid") + '"]'))
                    }).catch(function(e) {
                        console.log(e)
                    })
                }),
                n * r < i ? m.show() : m.hide(),
                k()) : s.$nodata.show(),
                s.$loading.hide()
            }).catch(function(e) {
                console.log(e),
                s.$loading.hide(),
                M(s, e)
            })
        }
        )
          , b = (s.Q(s.cfg.path).count().then(function(e) {
            0 < e ? (s.$el.find(".vcount").show().find(".vnum").text(e),
            v()) : s.$loading.hide()
        }).catch(function(e) {
            console.log(4),
            M(s, e)
        }),
        function(e, t, n) {
            var r = I('<div class="vcard" id="' + e.id + '"></div>')
              , i = e.get("ua")
              , o = "";
            i && !/ja/.test(s.cfg.lang) && (o = '<span class="vsys">' + (i = I.detect(i)).browser + " " + i.version + '</span> <span class="vsys">' + i.os + " " + i.osVersion + "</span>"),
            "*" === s.cfg.path && (o = '<a href="' + e.get("url") + '" class="vsys">' + e.get("url") + "</a>");
            var i = e.get("link") ? /^https?\:\/\//.test(e.get("link")) ? e.get("link") : "http://" + e.get("link") : ""
              , i = i ? '<a class="vnick" rel="nofollow" href="' + i + '" target="_blank" >' + e.get("nick") + "</a>" : '<span class="vnick">' + e.get("nick") + "</span>"
              , o = (B.hide ? "" : s.cfg.enableQQ && e.get("QQAvatar") ? '<img class="vimg" src="' + e.get("QQAvatar") + '" referrerPolicy="no-referrer"/>' : '<img class="vimg" src="' + (B.cdn + L(e.get("mail")) + B.params) + '">') + '<div class="vh"><div class="vhead">' + i + " " + o + '</div><div class="vmeta"><span class="vtime" >' + function(e, t) {
                if (!e)
                    return "";
                try {
                    var n, r, i, o, a = He(e).getTime(), s = (new Date).getTime() - a, l = Math.floor(s / 864e5);
                    return 0 === l ? (n = s % 864e5,
                    0 === (r = Math.floor(n / 36e5)) ? (i = n % 36e5,
                    0 === (o = Math.floor(i / 6e4)) ? Math.round(i % 6e4 / 1e3) + " " + t.t("seconds") : o + " " + t.t("minutes")) : r + " " + t.t("hours")) : l < 0 ? t.t("now") : l < 8 ? l + " " + t.t("days") : (p = Qe((c = e).getDate(), 2),
                    u = Qe(c.getMonth() + 1, 2),
                    Qe(c.getFullYear(), 2) + "-" + u + "-" + p)
                } catch (e) {
                    console.log(e)
                }
                var c, p, u
            }(e.get("insertedAt"), s.i18n) + '</span><span class="vat" data-vm-id="' + (e.get("rid") || e.id) + '" data-self-id="' + e.id + '">' + s.i18n.t("reply") + '</span></div><div class="vcontent" data-expand="' + s.i18n.t("expand") + '">' + (i = e.get("comment"),
            T(i, {
                onTagAttr: function(e, t, n, r) {
                    return en(e, t, n)
                },
                onIgnoreTagAttr: function(e, t, n, r) {
                    return en(e, t, n)
                }
            }).replace(/\<\/?div\>/gi, "")) + '</div><div class="vreply-wrapper" data-self-id="' + e.id + '"></div><div class="vquote" data-self-id="' + e.id + '"></div></div>'
              , i = (r.html(o),
            r.find(".vat"))
              , o = (r.find("a").forEach(function(e) {
                e && !I(e).hasClass("at") && I(e).attr({
                    target: "_blank",
                    rel: "noopener"
                })
            }),
            n ? t.append(r) : t.prepend(r),
            r.find(".vcontent"));
            o && A(o),
            i && x(i, e)
        }
        )
          , w = {}
          , x = function(o, a) {
            o.on("click", function(e) {
                var t = o.attr("data-vm-id")
                  , n = o.attr("data-self-id")
                  , r = s.$el.find(".vwrap")
                  , i = "@" + I.escape(a.get("nick"));
                I('.vreply-wrapper[data-self-id="' + n + '"]').append(r).find(".cancel-reply").show(),
                w = {
                    at: I.escape(i) + " ",
                    rid: t,
                    pid: n,
                    rmail: a.get("mail")
                },
                f.comment.attr({
                    placeholder: i
                })[0].focus()
            })
        }
          , k = function() {
            setTimeout(function() {
                try {
                    s.cfg.mathjax && "MathJax"in window && "version"in window.MathJax && (/^3.*/.test(window.MathJax.version) && MathJax.typeset() || MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.querySelector(".v")])),
                    "renderMathInElement"in window && renderMathInElement(I(".v")[0], {
                        delimiters: [{
                            left: "$$",
                            right: "$$",
                            display: !0
                        }, {
                            left: "$",
                            right: "$",
                            display: !1
                        }]
                    })
                } catch (e) {}
            }, 100)
        }
          , A = function(t) {
            setTimeout(function() {
                200 < t[0].offsetHeight && (t.addClass("expand"),
                t.on("click", function(e) {
                    t.removeClass("expand")
                }))
            })
        }
          , $ = void 0;
        if ($ = I.store.get("_v_Cache_Meta") || $)
            for (var S in t) {
                S = t[S];
                s.$el.find(".v" + S).val(I.unescape($[S])),
                F[S] = $[S]
            }
        function O(e) {
            return -1 < s.cfg.requiredFields.indexOf("nick") && F.nick.length < 3 ? (f.nick[0].focus(),
            void s.$el.find(".status-bar").text("" + s.i18n.t("nickFail")).empty(3e3)) : -1 < s.cfg.requiredFields.indexOf("mail") && !/[\w-\.]+@([\w-]+\.)+[a-z]{2,3}/.test(F.mail) ? (f.mail[0].focus(),
            void s.$el.find(".status-bar").text("" + s.i18n.t("mailFail")).empty(3e3)) : void ("" != U ? (F.comment = U,
            F.nick = F.nick || "Anonymous",
            (t = I.store.get("vlx")) && Date.now() / 1e3 - t / 1e3 < 20 ? s.$el.find(".status-bar").text(s.i18n.t("busy")).empty(3e3) : P()) : f.comment[0].focus());
            var t
        }
        var E = I.store.get("_v_Cache_Q")
          , _ = (F.QQAvatar = s.cfg.enableQQ && !!E && E.pic || "",
        s.reset = function() {
            F.comment = "",
            f.comment.val(""),
            d(f.comment),
            f.comment.attr("placeholder", s.cfg.placeholder),
            w = {},
            s.$preview.hide(),
            s.$el.find(".vpanel").append(s.$el.find(".vwrap")),
            s.$el.find(".cancel-reply").hide(),
            U = ""
        }
        ,
        s.$el.find(".vsubmit"))
          , P = function() {
            I.store.set("vlx", Date.now()),
            _.attr({
                disabled: !0
            }),
            s.$loading.show(!0);
            var e, t, n = new (AV.Object.extend(s.cfg.clazzName || "Comment"));
            for (t in F.url = decodeURI(s.cfg.path),
            F.insertedAt = new Date,
            w.rid && (e = w.pid || w.rid,
            n.set("rid", w.rid),
            n.set("pid", e),
            F.comment = U.replace("<p>", '<p><a class="at" href="#' + e + '">' + w.at + "</a> , ")),
            F)
                F.hasOwnProperty(t) && n.set(t, F[t]);
            n.setACL(((e = new AV.ACL).setPublicReadAccess(!0),
            e.setPublicWriteAccess(!1),
            e)),
            n.save().then(function(e) {
                "Anonymous" != F.nick && I.store.set("_v_Cache_Meta", {
                    nick: F.nick,
                    link: F.link,
                    mail: F.mail
                });
                var t = s.$el.find(".vnum");
                try {
                    w.rid ? b(e, I('.vquote[data-self-id="' + w.rid + '"]'), !0) : ((Number(t.text()) ? t : s.$el.find(".vcount").show().find(".vnum")).text(Number(t.text()) + 1),
                    b(e, s.$el.find(".vcards")),
                    y.skip++),
                    _.removeAttr("disabled"),
                    s.$loading.hide(),
                    s.reset()
                } catch (e) {
                    M(s, e)
                }
            }).catch(function(e) {
                M(s, e)
            })
        }
          , j = (_.on("click", O),
        I(document).on("keydown", function(e) {
            var t = (e = event || e).keyCode || e.which || e.charCode;
            (e.ctrlKey || e.metaKey) && 13 === t && O(),
            9 === t && "veditor" == (document.activeElement.id || "") && (e.preventDefault(),
            g(c[0], "    "))
        }).on("paste", function(e) {
            e = "clipboardData"in e ? e.clipboardData : e.originalEvent && e.originalEvent.clipboardData || window.clipboardData;
            e && j(e.items, !0)
        }),
        c.on("dragenter dragleave dragover drop", function(e) {
            e.stopPropagation(),
            e.preventDefault(),
            "drop" === e.type && j(e.dataTransfer.items)
        }),
        function(e, t) {
            for (var n = [], r = 0, i = e.length; r < i; r++) {
                var o = e[r];
                if ("string" === o.kind && o.type.match("^text/html"))
                    t || o.getAsString(function(e) {
                        e && g(c[0], e.replace(/<[^>]+>/g, ""))
                    });
                else if (-1 !== o.type.indexOf("image")) {
                    n.push(o.getAsFile());
                    continue
                }
            }
            z(n)
        }
        )
          , z = function(t, n) {
            n = n || 0;
            var r, i, o = t.length;
            0 < o && (r = t[n],
            _.attr({
                disabled: !0
            }),
            i = "![Uploading " + r.name + "...]()",
            g(c[0], i),
            C(r, function(e) {
                500 != e.code ? (c.val(c.val().replace(i, "![" + r.name + "](" + e.data.url + ")\r\n")),
                N(c[0]),
                ++n < o ? z(t, n) : _.removeAttr("disabled")) : (c.val(c.val().replace(i, "")),
                N(c[0]),
                s.$el.find(".status-bar").text(e.msg).empty(3e3),
                _.removeAttr("disabled"))
            }))
        }
          , C = function(e, t) {
            var n = new FormData;
            n.append("image", e),
            I.ajax({
                type: "post",
                url: "https://pic.alexhchu.com/api/upload",
                data: n,
                success: function(e) {
                    t && t(e)
                }
            })
        }
    }
    ,
    module.exports = an,
    module.exports.default = an
});//op<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>